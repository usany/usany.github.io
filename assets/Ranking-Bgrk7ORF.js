import{r as t,a7 as p,b0 as j,am as S,aQ as k,a3 as R,a5 as U,a2 as v,X as L,j as e,S as b,ag as E}from"./index-Df_Wku-e.js";import{P as y}from"./PageTitle-WBoG3sS4.js";import{L as d}from"./Lists-BpqmZ78M.js";import{T as F}from"./TextField-B_BCQCWm.js";function T({userObj:n,userSearch:a}){const[s,r]=t.useState([]),[c,h]=t.useState([]),[g,x]=t.useState([]);return t.useEffect(()=>{p(R(v(L,"members"),U("points","desc")),f=>{const o=f.docs.map((i,l)=>{var m;return j(S(k,`${(m=i.data())==null?void 0:m.uid}`)).then(u=>{x([...g,{url:u,index:l}])}).catch(u=>{console.log(u)}),{...i.data()}});r(o),o.map((i,l)=>{i.uid===n.uid&&(o[l].rank=l+1,h([o[l]]))})})},[]),e.jsx(e.Fragment,{children:a?e.jsx("div",{children:e.jsx(d,{elements:s,multiple:!0,userSearch:a,ranking:!0,handleUser:null})}):e.jsxs("div",{children:[e.jsx(d,{elements:c,multiple:!1,userSearch:null,ranking:!0,handleUser:null}),e.jsx(d,{elements:s,multiple:!0,userSearch:null,ranking:!0,handleUser:null})]})})}function w({changeUserSearch:n}){const a=s=>{const{target:{value:r}}=s;n(r)};return e.jsx("div",{className:"px-5 flex flex-col",children:e.jsx(F,{label:"유저 이름",onChange:a})})}function N({userObj:n}){const[a,s]=t.useState(""),r=b();return t.useEffect(()=>{r(E(5))}),e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"유저 랭킹"}),e.jsx(w,{changeUserSearch:c=>s(c)}),e.jsx(T,{userObj:n,userSearch:a})]})}export{N as default};
