import{r as t,a9 as p,X as j,Y as k,Z as S,a4 as R,a6 as U,a3 as v,V as L,j as e,a8 as E,ai as b}from"./index-BuS7yirL.js";import{P as y}from"./PageTitle-CulcK36O.js";import{L as d}from"./Lists-Cz8WVRPH.js";import{T as F}from"./TextField-_ZP92jHt.js";function T({userObj:n,userSearch:a}){const[s,r]=t.useState([]),[c,h]=t.useState([]),[g,x]=t.useState([]);return t.useEffect(()=>{p(R(v(L,"members"),U("points","desc")),f=>{const o=f.docs.map((i,l)=>{var m;return j(k(S,`${(m=i.data())==null?void 0:m.uid}`)).then(u=>{x([...g,{url:u,index:l}])}).catch(u=>{console.log(u)}),{...i.data()}});r(o),o.map((i,l)=>{i.uid===n.uid&&(o[l].rank=l+1,h([o[l]]))})})},[]),e.jsx(e.Fragment,{children:a?e.jsx("div",{children:e.jsx(d,{elements:s,multiple:!0,userSearch:a,ranking:!0,handleUser:null})}):e.jsxs("div",{children:[e.jsx(d,{elements:c,multiple:!1,userSearch:null,ranking:!0,handleUser:null}),e.jsx(d,{elements:s,multiple:!0,userSearch:null,ranking:!0,handleUser:null})]})})}function w({changeUserSearch:n}){const a=s=>{const{target:{value:r}}=s;n(r)};return e.jsx("div",{className:"px-5 flex flex-col",children:e.jsx(F,{label:"유저 이름",onChange:a})})}function N({userObj:n}){const[a,s]=t.useState(""),r=E();return t.useEffect(()=>{r(b(5))}),e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"유저 랭킹"}),e.jsx(w,{changeUserSearch:c=>s(c)}),e.jsx(T,{userObj:n,userSearch:a})]})}export{N as default};
