import{d as B,x as F,v as E,b as c,r,w as xe,b5 as he,T as ve,a as L,L as ye,p as be,h as Ce,j as o,z,n as V,b6 as te,J as Ae,ay as je,b7 as J,G as Re,aM as Se,aN as we,a2 as Ee,a1 as ne,V as Y,U as Te,a$ as Me,a5 as $e,aO as Ne,a8 as Pe,aP as De}from"./index-Cpm8r13-.js";import{P as ze}from"./PageTitle-aF0k29Ix.js";import{C as Ie}from"./Chip-BqNiQftg.js";import{D as We,a as ke,B as _}from"./DialogContent-CMiBNEb3.js";import{u as Ue}from"./useSlot-Bmsqbduu.js";import{T as oe}from"./TextField-BjFCbQNr.js";function Ge(e){return F("MuiCollapse",e)}B("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const _e=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Be=e=>{const{orientation:t,classes:s}=e,n={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return V(n,Ge,s)},Fe=E("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[s.orientation],s.state==="entered"&&t.entered,s.state==="exited"&&!s.in&&s.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>c({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&c({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),Le=E("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>c({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Ve=E("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>c({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),ie=r.forwardRef(function(t,s){const n=xe({props:t,name:"MuiCollapse"}),{addEndListener:a,children:l,className:p,collapsedSize:d="0px",component:x,easing:g,in:u,onEnter:C,onEntered:h,onEntering:b,onExit:A,onExited:m,onExiting:v,orientation:f="vertical",style:M,timeout:j=he.standard,TransitionComponent:I=ve}=n,Q=L(n,_e),$=c({},n,{orientation:f,collapsedSize:d}),R=Be($),W=ye(),K=be(),S=r.useRef(null),k=r.useRef(),N=typeof d=="number"?`${d}px`:d,T=f==="horizontal",U=T?"width":"height",q=r.useRef(null),ce=Ce(s,q),P=i=>y=>{if(i){const w=q.current;y===void 0?i(w):i(w,y)}},X=()=>S.current?S.current[T?"clientWidth":"clientHeight"]:0,le=P((i,y)=>{S.current&&T&&(S.current.style.position="absolute"),i.style[U]=N,C&&C(i,y)}),de=P((i,y)=>{const w=X();S.current&&T&&(S.current.style.position="");const{duration:G,easing:H}=te({style:M,timeout:j,easing:g},{mode:"enter"});if(j==="auto"){const ee=W.transitions.getAutoHeightDuration(w);i.style.transitionDuration=`${ee}ms`,k.current=ee}else i.style.transitionDuration=typeof G=="string"?G:`${G}ms`;i.style[U]=`${w}px`,i.style.transitionTimingFunction=H,b&&b(i,y)}),ue=P((i,y)=>{i.style[U]="auto",h&&h(i,y)}),pe=P(i=>{i.style[U]=`${X()}px`,A&&A(i)}),me=P(m),fe=P(i=>{const y=X(),{duration:w,easing:G}=te({style:M,timeout:j,easing:g},{mode:"exit"});if(j==="auto"){const H=W.transitions.getAutoHeightDuration(y);i.style.transitionDuration=`${H}ms`,k.current=H}else i.style.transitionDuration=typeof w=="string"?w:`${w}ms`;i.style[U]=N,i.style.transitionTimingFunction=G,v&&v(i)}),ge=i=>{j==="auto"&&K.start(k.current||0,i),a&&a(q.current,i)};return o.jsx(I,c({in:u,onEnter:le,onEntered:ue,onEntering:de,onExit:pe,onExited:me,onExiting:fe,addEndListener:ge,nodeRef:q,timeout:j==="auto"?null:j},Q,{children:(i,y)=>o.jsx(Fe,c({as:x,className:z(R.root,p,{entered:R.entered,exited:!u&&N==="0px"&&R.hidden}[i]),style:c({[T?"minWidth":"minHeight"]:N},M),ref:ce},y,{ownerState:c({},$,{state:i}),children:o.jsx(Le,{ownerState:c({},$,{state:i}),className:R.wrapper,ref:S,children:o.jsx(Ve,{ownerState:c({},$,{state:i}),className:R.wrapperInner,children:l})})}))}))});ie.muiSupportAuto=!0;const re=r.createContext({});function qe(e){return F("MuiAccordion",e)}const O=B("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),He=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],Oe=J(),Je=e=>{const{classes:t,square:s,expanded:n,disabled:a,disableGutters:l}=e;return V({root:["root",!s&&"rounded",n&&"expanded",a&&"disabled",!l&&"gutters"],region:["region"]},qe,t)},Qe=E(Ae,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[{[`& .${O.region}`]:t.region},t.root,!s.square&&t.rounded,!s.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${O.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${O.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${O.expanded}`]:{margin:"16px 0"}}}]})),Ke=r.forwardRef(function(t,s){const n=Oe({props:t,name:"MuiAccordion"}),{children:a,className:l,defaultExpanded:p=!1,disabled:d=!1,disableGutters:x=!1,expanded:g,onChange:u,square:C=!1,slots:h={},slotProps:b={},TransitionComponent:A,TransitionProps:m}=n,v=L(n,He),[f,M]=je({controlled:g,default:p,name:"Accordion",state:"expanded"}),j=r.useCallback(T=>{M(!f),u&&u(T,!f)},[f,u,M]),[I,...Q]=r.Children.toArray(a),$=r.useMemo(()=>({expanded:f,disabled:d,disableGutters:x,toggle:j}),[f,d,x,j]),R=c({},n,{square:C,disabled:d,disableGutters:x,expanded:f}),W=Je(R),K=c({transition:A},h),S=c({transition:m},b),[k,N]=Ue("transition",{elementType:ie,externalForwardedProps:{slots:K,slotProps:S},ownerState:R});return o.jsxs(Qe,c({className:z(W.root,l),ref:s,ownerState:R,square:C},v,{children:[o.jsx(re.Provider,{value:$,children:I}),o.jsx(k,c({in:f,timeout:"auto"},N,{children:o.jsx("div",{"aria-labelledby":I.props.id,id:I.props["aria-controls"],role:"region",className:W.region,children:Q})}))]}))});function Xe(e){return F("MuiAccordionActions",e)}B("MuiAccordionActions",["root","spacing"]);const Ye=["className","disableSpacing"],Ze=J(),et=e=>{const{classes:t,disableSpacing:s}=e;return V({root:["root",!s&&"spacing"]},Xe,t)},tt=E("div",{name:"MuiAccordionActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",variants:[{props:e=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),ot=r.forwardRef(function(t,s){const n=Ze({props:t,name:"MuiAccordionActions"}),{className:a,disableSpacing:l=!1}=n,p=L(n,Ye),d=c({},n,{disableSpacing:l}),x=et(d);return o.jsx(tt,c({className:z(x.root,a),ref:s,ownerState:d},p))});function st(e){return F("MuiAccordionDetails",e)}B("MuiAccordionDetails",["root"]);const nt=["className"],it=J(),rt=e=>{const{classes:t}=e;return V({root:["root"]},st,t)},at=E("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),ct=r.forwardRef(function(t,s){const n=it({props:t,name:"MuiAccordionDetails"}),{className:a}=n,l=L(n,nt),p=n,d=rt(p);return o.jsx(at,c({className:z(d.root,a),ref:s,ownerState:p},l))});function lt(e){return F("MuiAccordionSummary",e)}const D=B("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),dt=["children","className","expandIcon","focusVisibleClassName","onClick"],ut=J(),pt=e=>{const{classes:t,expanded:s,disabled:n,disableGutters:a}=e;return V({root:["root",s&&"expanded",n&&"disabled",!a&&"gutters"],focusVisible:["focusVisible"],content:["content",s&&"expanded",!a&&"contentGutters"],expandIconWrapper:["expandIconWrapper",s&&"expanded"]},lt,t)},mt=E(Re,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${D.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${D.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${D.disabled})`]:{cursor:"pointer"},variants:[{props:s=>!s.disableGutters,style:{[`&.${D.expanded}`]:{minHeight:64}}}]}}),ft=E("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${D.expanded}`]:{margin:"20px 0"}}}]})),gt=E("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${D.expanded}`]:{transform:"rotate(180deg)"}})),xt=r.forwardRef(function(t,s){const n=ut({props:t,name:"MuiAccordionSummary"}),{children:a,className:l,expandIcon:p,focusVisibleClassName:d,onClick:x}=n,g=L(n,dt),{disabled:u=!1,disableGutters:C,expanded:h,toggle:b}=r.useContext(re),A=f=>{b&&b(f),x&&x(f)},m=c({},n,{expanded:h,disabled:u,disableGutters:C}),v=pt(m);return o.jsxs(mt,c({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":h,className:z(v.root,l),focusVisibleClassName:z(v.focusVisible,d),onClick:A,ref:s,ownerState:m},g,{children:[o.jsx(ft,{className:v.content,ownerState:m,children:a}),p&&o.jsx(gt,{className:v.expandIconWrapper,ownerState:m,children:p})]}))});function se({action:e,label:t}){return o.jsxs("div",{className:"px-5",children:[o.jsxs("span",{children:[e,": "]}),o.jsx(Ie,{label:t})]})}var Z={},ht=we;Object.defineProperty(Z,"__esModule",{value:!0});var ae=Z.default=void 0,vt=ht(Se()),yt=o;ae=Z.default=(0,vt.default)((0,yt.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const bt=({move:e,handleClose:t,userObj:s,change:n,setChange:a})=>{const[l,p]=r.useState(null),d=Ee(ne(Y,"violations")),x=g=>{console.log(g);const u=Te(Y,`violations/${g.id}`);Me(u),a(!0),alert("지웠습니다"),t()};return r.useEffect(()=>{(!l||n)&&((async()=>{const u=[];(await $e(d)).forEach(h=>{if(h.data().userUid===s.uid){const b=h.data().messageTitle,A=h.data().message,v={id:h.id,messageTitle:b,message:A};u.push(v)}p(u)})})(),a(!1))}),o.jsx(We,{fullWidth:!0,open:e,onClose:t,children:o.jsxs(ke,{children:[o.jsx("div",{children:"신고하기 내역"}),o.jsx("div",{children:l==null?void 0:l.map((g,u)=>o.jsx("div",{children:o.jsxs(Ke,{children:[o.jsx(xt,{expandIcon:o.jsx(ae,{}),id:u,children:g.messageTitle}),o.jsx(ct,{children:g.message}),o.jsx(ot,{children:o.jsx(_,{variant:"outlined",onClick:()=>x(g),children:"지우기"})})]})}))}),o.jsx(_,{variant:"outlined",onClick:t,children:"닫기"})]})})};function Ct({userObj:e}){const[t,s]=r.useState(""),[n,a]=r.useState(""),[l,p]=r.useState(!1),[d,x]=r.useState(!1),[g,u]=r.useState(!1);r.useEffect(()=>{p(!!(t&&n))},[t,n]);const C=async()=>{try{await Ne(ne(Y,"violations"),{userUid:e.uid,userName:e.displayName,messageTitle:t,message:n}),alert("등록되었습니다"),s(""),a(""),u(!0)}catch(m){console.log(m)}},h=m=>{const{target:{name:v,value:f}}=m;a(f)},b=m=>{const{target:{name:v,value:f}}=m;s(f)},A=()=>{x(!1)};return o.jsx("div",{children:o.jsxs("form",{id:"auth",children:[o.jsx("div",{className:"flex justify-center pt-5 px-5",children:o.jsx(oe,{label:"신고하기 제목",multiline:!0,value:t,onChange:b,variant:"outlined",fullWidth:!0})}),o.jsx("div",{className:"flex justify-center pt-5 px-5",children:o.jsx(oe,{label:"신고하기 내용",multiline:!0,rows:5,value:n,onChange:h,variant:"outlined",fullWidth:!0})}),o.jsxs("div",{className:"flex justify-center pt-2.5",children:[o.jsx(_,{variant:"outlined",form:"auth",onClick:()=>x(!0),children:"신고하기 내역"}),o.jsx(bt,{move:d,handleClose:A,userObj:e,change:g,setChange:m=>u(m)}),l?o.jsx(_,{variant:"outlined",form:"auth",onClick:()=>C(),children:"전송"}):o.jsx(_,{variant:"outlined",form:"auth",disabled:!0,children:"전송"})]})]})})}function Tt({userObj:e}){const t=Pe();return r.useEffect(()=>{t(De(5))}),o.jsxs("div",{children:[o.jsx(ze,{title:"신고하기"}),o.jsx(se,{action:"발신",label:e.displayName}),o.jsx(se,{action:"수신",label:"담당자"}),o.jsx(Ct,{userObj:e})]})}export{Tt as default};
