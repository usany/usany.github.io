import{d as F,x as B,v as E,b as a,r as c,w as ge,b4 as he,T as ve,a as L,L as be,p as ye,h as Ce,j as o,z as I,n as V,b5 as te,J as Ae,au as je,b6 as Re,b7 as K,G as Se,aI as we,aJ as Ee,a2 as Te,a1 as ne,V as Y,U as Me,b3 as $e,a5 as Ne,aK as Pe}from"./index-CRk_zr9W.js";import{P as De}from"./PageTitle-BFXS07qM.js";import{C as Ie}from"./Chip-D36-AAtM.js";import{D as ze,a as We,B as _}from"./DialogContent-L7HnCdFW.js";import{T as oe}from"./TextField-DGh_26ob.js";function ke(e){return B("MuiCollapse",e)}F("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Ue=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Ge=e=>{const{orientation:t,classes:s}=e,n={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return V(n,ke,s)},_e=E("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[s.orientation],s.state==="entered"&&t.entered,s.state==="exited"&&!s.in&&s.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>a({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&a({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),Fe=E("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>a({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Be=E("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>a({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),ie=c.forwardRef(function(t,s){const n=ge({props:t,name:"MuiCollapse"}),{addEndListener:r,children:l,className:p,collapsedSize:d="0px",component:g,easing:x,in:u,onEnter:C,onEntered:h,onEntering:y,onExit:A,onExited:m,onExiting:v,orientation:f="vertical",style:M,timeout:j=he.standard,TransitionComponent:z=ve}=n,O=L(n,Ue),$=a({},n,{orientation:f,collapsedSize:d}),R=Ge($),W=be(),Q=ye(),S=c.useRef(null),k=c.useRef(),N=typeof d=="number"?`${d}px`:d,T=f==="horizontal",U=T?"width":"height",q=c.useRef(null),ce=Ce(s,q),P=i=>b=>{if(i){const w=q.current;b===void 0?i(w):i(w,b)}},X=()=>S.current?S.current[T?"clientWidth":"clientHeight"]:0,le=P((i,b)=>{S.current&&T&&(S.current.style.position="absolute"),i.style[U]=N,C&&C(i,b)}),de=P((i,b)=>{const w=X();S.current&&T&&(S.current.style.position="");const{duration:G,easing:H}=te({style:M,timeout:j,easing:x},{mode:"enter"});if(j==="auto"){const ee=W.transitions.getAutoHeightDuration(w);i.style.transitionDuration=`${ee}ms`,k.current=ee}else i.style.transitionDuration=typeof G=="string"?G:`${G}ms`;i.style[U]=`${w}px`,i.style.transitionTimingFunction=H,y&&y(i,b)}),ue=P((i,b)=>{i.style[U]="auto",h&&h(i,b)}),pe=P(i=>{i.style[U]=`${X()}px`,A&&A(i)}),me=P(m),fe=P(i=>{const b=X(),{duration:w,easing:G}=te({style:M,timeout:j,easing:x},{mode:"exit"});if(j==="auto"){const H=W.transitions.getAutoHeightDuration(b);i.style.transitionDuration=`${H}ms`,k.current=H}else i.style.transitionDuration=typeof w=="string"?w:`${w}ms`;i.style[U]=N,i.style.transitionTimingFunction=G,v&&v(i)}),xe=i=>{j==="auto"&&Q.start(k.current||0,i),r&&r(q.current,i)};return o.jsx(z,a({in:u,onEnter:le,onEntered:ue,onEntering:de,onExit:pe,onExited:me,onExiting:fe,addEndListener:xe,nodeRef:q,timeout:j==="auto"?null:j},O,{children:(i,b)=>o.jsx(_e,a({as:g,className:I(R.root,p,{entered:R.entered,exited:!u&&N==="0px"&&R.hidden}[i]),style:a({[T?"minWidth":"minHeight"]:N},M),ref:ce},b,{ownerState:a({},$,{state:i}),children:o.jsx(Fe,{ownerState:a({},$,{state:i}),className:R.wrapper,ref:S,children:o.jsx(Be,{ownerState:a({},$,{state:i}),className:R.wrapperInner,children:l})})}))}))});ie.muiSupportAuto=!0;const re=c.createContext({});function Le(e){return B("MuiAccordion",e)}const J=F("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),Ve=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],qe=K(),He=e=>{const{classes:t,square:s,expanded:n,disabled:r,disableGutters:l}=e;return V({root:["root",!s&&"rounded",n&&"expanded",r&&"disabled",!l&&"gutters"],region:["region"]},Le,t)},Je=E(Ae,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[{[`& .${J.region}`]:t.region},t.root,!s.square&&t.rounded,!s.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${J.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${J.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${J.expanded}`]:{margin:"16px 0"}}}]})),Ke=c.forwardRef(function(t,s){const n=qe({props:t,name:"MuiAccordion"}),{children:r,className:l,defaultExpanded:p=!1,disabled:d=!1,disableGutters:g=!1,expanded:x,onChange:u,square:C=!1,slots:h={},slotProps:y={},TransitionComponent:A,TransitionProps:m}=n,v=L(n,Ve),[f,M]=je({controlled:x,default:p,name:"Accordion",state:"expanded"}),j=c.useCallback(T=>{M(!f),u&&u(T,!f)},[f,u,M]),[z,...O]=c.Children.toArray(r),$=c.useMemo(()=>({expanded:f,disabled:d,disableGutters:g,toggle:j}),[f,d,g,j]),R=a({},n,{square:C,disabled:d,disableGutters:g,expanded:f}),W=He(R),Q=a({transition:A},h),S=a({transition:m},y),[k,N]=Re("transition",{elementType:ie,externalForwardedProps:{slots:Q,slotProps:S},ownerState:R});return o.jsxs(Je,a({className:I(W.root,l),ref:s,ownerState:R,square:C},v,{children:[o.jsx(re.Provider,{value:$,children:z}),o.jsx(k,a({in:f,timeout:"auto"},N,{children:o.jsx("div",{"aria-labelledby":z.props.id,id:z.props["aria-controls"],role:"region",className:W.region,children:O})}))]}))});function Oe(e){return B("MuiAccordionActions",e)}F("MuiAccordionActions",["root","spacing"]);const Qe=["className","disableSpacing"],Xe=K(),Ye=e=>{const{classes:t,disableSpacing:s}=e;return V({root:["root",!s&&"spacing"]},Oe,t)},Ze=E("div",{name:"MuiAccordionActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",variants:[{props:e=>!e.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),et=c.forwardRef(function(t,s){const n=Xe({props:t,name:"MuiAccordionActions"}),{className:r,disableSpacing:l=!1}=n,p=L(n,Qe),d=a({},n,{disableSpacing:l}),g=Ye(d);return o.jsx(Ze,a({className:I(g.root,r),ref:s,ownerState:d},p))});function tt(e){return B("MuiAccordionDetails",e)}F("MuiAccordionDetails",["root"]);const ot=["className"],st=K(),nt=e=>{const{classes:t}=e;return V({root:["root"]},tt,t)},it=E("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),rt=c.forwardRef(function(t,s){const n=st({props:t,name:"MuiAccordionDetails"}),{className:r}=n,l=L(n,ot),p=n,d=nt(p);return o.jsx(it,a({className:I(d.root,r),ref:s,ownerState:p},l))});function at(e){return B("MuiAccordionSummary",e)}const D=F("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),ct=["children","className","expandIcon","focusVisibleClassName","onClick"],lt=K(),dt=e=>{const{classes:t,expanded:s,disabled:n,disableGutters:r}=e;return V({root:["root",s&&"expanded",n&&"disabled",!r&&"gutters"],focusVisible:["focusVisible"],content:["content",s&&"expanded",!r&&"contentGutters"],expandIconWrapper:["expandIconWrapper",s&&"expanded"]},at,t)},ut=E(Se,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${D.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${D.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${D.disabled})`]:{cursor:"pointer"},variants:[{props:s=>!s.disableGutters,style:{[`&.${D.expanded}`]:{minHeight:64}}}]}}),pt=E("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${D.expanded}`]:{margin:"20px 0"}}}]})),mt=E("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${D.expanded}`]:{transform:"rotate(180deg)"}})),ft=c.forwardRef(function(t,s){const n=lt({props:t,name:"MuiAccordionSummary"}),{children:r,className:l,expandIcon:p,focusVisibleClassName:d,onClick:g}=n,x=L(n,ct),{disabled:u=!1,disableGutters:C,expanded:h,toggle:y}=c.useContext(re),A=f=>{y&&y(f),g&&g(f)},m=a({},n,{expanded:h,disabled:u,disableGutters:C}),v=dt(m);return o.jsxs(ut,a({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":h,className:I(v.root,l),focusVisibleClassName:I(v.focusVisible,d),onClick:A,ref:s,ownerState:m},x,{children:[o.jsx(pt,{className:v.content,ownerState:m,children:r}),p&&o.jsx(mt,{className:v.expandIconWrapper,ownerState:m,children:p})]}))});function se({action:e,label:t}){return o.jsxs("div",{className:"px-5",children:[o.jsxs("span",{children:[e,": "]}),o.jsx(Ie,{label:t})]})}var Z={},xt=Ee;Object.defineProperty(Z,"__esModule",{value:!0});var ae=Z.default=void 0,gt=xt(we()),ht=o;ae=Z.default=(0,gt.default)((0,ht.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");const vt=({move:e,handleClose:t,userObj:s,change:n,setChange:r})=>{const[l,p]=c.useState(null),d=Te(ne(Y,"violations")),g=x=>{console.log(x);const u=Me(Y,`violations/${x.id}`);$e(u),r(!0),alert("지웠습니다"),t()};return c.useEffect(()=>{(!l||n)&&((async()=>{const u=[];(await Ne(d)).forEach(h=>{if(h.data().userUid===s.uid){const y=h.data().messageTitle,A=h.data().message,v={id:h.id,messageTitle:y,message:A};u.push(v)}p(u)})})(),r(!1))}),o.jsx(ze,{fullWidth:!0,open:e,onClose:t,children:o.jsxs(We,{children:[o.jsx("div",{children:"신고하기 내역"}),o.jsx("div",{children:l==null?void 0:l.map((x,u)=>o.jsx("div",{children:o.jsxs(Ke,{children:[o.jsx(ft,{expandIcon:o.jsx(ae,{}),id:u,children:x.messageTitle}),o.jsx(rt,{children:x.message}),o.jsx(et,{children:o.jsx(_,{variant:"outlined",onClick:()=>g(x),children:"지우기"})})]})}))}),o.jsx(_,{variant:"outlined",onClick:t,children:"닫기"})]})})};function bt({userObj:e}){const[t,s]=c.useState(""),[n,r]=c.useState(""),[l,p]=c.useState(!1),[d,g]=c.useState(!1),[x,u]=c.useState(!1);c.useEffect(()=>{p(!!(t&&n))},[t,n]);const C=async()=>{try{await Pe(ne(Y,"violations"),{userUid:e.uid,userName:e.displayName,messageTitle:t,message:n}),alert("등록되었습니다"),s(""),r(""),u(!0)}catch(m){console.log(m)}},h=m=>{const{target:{name:v,value:f}}=m;r(f)},y=m=>{const{target:{name:v,value:f}}=m;s(f)},A=()=>{g(!1)};return o.jsx("div",{children:o.jsxs("form",{id:"auth",children:[o.jsx("div",{className:"flex justify-center pt-5 px-5",children:o.jsx(oe,{label:"신고하기 제목",multiline:!0,value:t,onChange:y,variant:"outlined",fullWidth:!0})}),o.jsx("div",{className:"flex justify-center pt-5 px-5",children:o.jsx(oe,{label:"신고하기 내용",multiline:!0,rows:5,value:n,onChange:h,variant:"outlined",fullWidth:!0})}),o.jsxs("div",{className:"flex justify-center pt-2.5",children:[o.jsx(_,{variant:"outlined",form:"auth",onClick:()=>g(!0),children:"신고하기 내역"}),o.jsx(vt,{move:d,handleClose:A,userObj:e,change:x,setChange:m=>u(m)}),l?o.jsx(_,{variant:"outlined",form:"auth",onClick:()=>C(),children:"전송"}):o.jsx(_,{variant:"outlined",form:"auth",disabled:!0,children:"전송"})]})]})})}function St({userObj:e}){return o.jsxs("div",{children:[o.jsx(De,{title:"신고하기"}),o.jsx(se,{action:"발신",label:e.displayName}),o.jsx(se,{action:"수신",label:"담당자"}),o.jsx(bt,{userObj:e})]})}export{St as default};
