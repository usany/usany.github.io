import{c as Eo,j as d,B as Se,o as ko,a as Ro,b as Lo,s as No,S as Fo,r as p,u as ge,d as U,A as Ri,e as Li,f as Ni,g as Fi,T as bt,h as Bo,i as en,P as rs,k as Io,l as Oo,m as Uo,q as Bi,n as Ii,p as H,t as Oi,v as zo,w as _o,x as J,y as os,z as as,C as Wo,D as ls,E as Ne,F as Pt,G as He,H as tn,I as $o,J as Ko,K as Ui,L as Go,M as Ho,N as Xo,O as Re,Q as cs,R as qo,U as Yo,V as Zo,W as Jo,X as Qo,Y as ea,Z as ta,_ as na,$ as sa,a0 as ia,a1 as ra,a2 as oa,a3 as aa,a4 as fe,a5 as la,a6 as ca,a7 as ua,a8 as da,a9 as ha,aa as fa,ab as ma,ac as pa,ad as ga,ae as us,af as ya,ag as Ut,ah as ds,ai as va,aj as hs,ak as fs}from"./index-EW36uhgQ.js";import{B as xa}from"./ban-DmHNFY53.js";/**
 * @license lucide-react v0.381.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Eo("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]),Sa="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Copyright%20(c)%202016%20Google%20Inc.%20All%20rights%20reserved.%20--%3e%3csvg%20width='118px'%20height='120px'%20viewBox='0%200%20118%20120'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3c!--%20Generator:%20Sketch%203.6%20(26304)%20-%20http://www.bohemiancoding.com/sketch%20--%3e%3ctitle%3egoogle_buttn%3c/title%3e%3cdesc%3eCreated%20with%20Sketch.%3c/desc%3e%3cdefs%3e%3c/defs%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='Artboard-1'%20transform='translate(-332.000000,%20-639.000000)'%3e%3cg%20id='google_buttn'%20transform='translate(332.000000,%20639.000000)'%3e%3cg%20id='logo_googleg_48dp'%3e%3cpath%20d='M117.6,61.3636364%20C117.6,57.1090909%20117.218182,53.0181818%20116.509091,49.0909091%20L60,49.0909091%20L60,72.3%20L92.2909091,72.3%20C90.9,79.8%2086.6727273,86.1545455%2080.3181818,90.4090909%20L80.3181818,105.463636%20L99.7090909,105.463636%20C111.054545,95.0181818%20117.6,79.6363636%20117.6,61.3636364%20L117.6,61.3636364%20Z'%20id='Shape'%20fill='%234285F4'%3e%3c/path%3e%3cpath%20d='M60,120%20C76.2,120%2089.7818182,114.627273%2099.7090909,105.463636%20L80.3181818,90.4090909%20C74.9454545,94.0090909%2068.0727273,96.1363636%2060,96.1363636%20C44.3727273,96.1363636%2031.1454545,85.5818182%2026.4272727,71.4%20L6.38181818,71.4%20L6.38181818,86.9454545%20C16.2545455,106.554545%2036.5454545,120%2060,120%20L60,120%20Z'%20id='Shape'%20fill='%2334A853'%3e%3c/path%3e%3cpath%20d='M26.4272727,71.4%20C25.2272727,67.8%2024.5454545,63.9545455%2024.5454545,60%20C24.5454545,56.0454545%2025.2272727,52.2%2026.4272727,48.6%20L26.4272727,33.0545455%20L6.38181818,33.0545455%20C2.31818182,41.1545455%200,50.3181818%200,60%20C0,69.6818182%202.31818182,78.8454545%206.38181818,86.9454545%20L26.4272727,71.4%20L26.4272727,71.4%20Z'%20id='Shape'%20fill='%23FBBC05'%3e%3c/path%3e%3cpath%20d='M60,23.8636364%20C68.8090909,23.8636364%2076.7181818,26.8909091%2082.9363636,32.8363636%20L100.145455,15.6272727%20C89.7545455,5.94545455%2076.1727273,0%2060,0%20C36.5454545,0%2016.2545455,13.4454545%206.38181818,33.0545455%20L26.4272727,48.6%20C31.1454545,34.4181818%2044.3727273,23.8636364%2060,23.8636364%20L60,23.8636364%20Z'%20id='Shape'%20fill='%23EA4335'%3e%3c/path%3e%3cpath%20d='M0,0%20L120,0%20L120,120%20L0,120%20L0,0%20Z'%20id='Shape'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Ta="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='21'%20height='21'%20viewBox='0%200%2021%2021'%3e%3ctitle%3eMS-SymbolLockup%3c/title%3e%3crect%20x='1'%20y='1'%20width='9'%20height='9'%20fill='%23f25022'/%3e%3crect%20x='1'%20y='11'%20width='9'%20height='9'%20fill='%2300a4ef'/%3e%3crect%20x='11'%20y='1'%20width='9'%20height='9'%20fill='%237fba00'/%3e%3crect%20x='11'%20y='11'%20width='9'%20height='9'%20fill='%23ffb900'/%3e%3c/svg%3e",ba=()=>d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"flex flex-col items-center justify-center w-[250px]",children:d.jsxs("div",{className:"flex flex-col",children:[d.jsx(Se,{className:"colorTwo",startIcon:d.jsx("img",{src:Ta,className:"w-[20px]"}),variant:"outlined",onClick:ko,children:"마이크로소프트 로그인"}),d.jsx(Se,{className:"colorTwo",startIcon:d.jsx("img",{src:Sa,className:"w-[20px]"}),variant:"outlined",name:"g",onClick:Ro,children:"구글 로그인"}),d.jsx(Se,{disabled:!0,className:"colorTwo",variant:"outlined",name:"h",onClick:Lo,children:"곧 애플로 뵐게요"})]})})}),nn="data:image/svg+xml,%3c!--%20Copyright%20(c)%202016%20Google%20Inc.%20All%20rights%20reserved.%20--%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24px'%20height='24px'%20viewBox='0%200%2024%2024'%20fill='%23FFFFFF'%3e%3cpath%20d='M20%204H4c-1.1%200-1.99.9-1.99%202L2%2018c0%201.1.9%202%202%202h16c1.1%200%202-.9%202-2V6c0-1.1-.9-2-2-2zm0%204l-8%205-8-5V6l8%205%208-5v2z'/%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3c/svg%3e",Pa=No(Fo)(({theme:e})=>({padding:8,"& .MuiSwitch-track":{borderRadius:22/2,"&::before, &::after":{content:'""',position:"absolute",top:"50%",transform:"translateY(-50%)",width:16,height:16},"&::before":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="${encodeURIComponent(e.palette.getContrastText(e.palette.primary.main))}" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"/></svg>')`,left:12},"&::after":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="${encodeURIComponent(e.palette.getContrastText(e.palette.primary.main))}" d="M19,13H5V11H19V13Z" /></svg>')`,right:12}},"& .MuiSwitch-thumb":{boxShadow:"none",width:16,height:16,margin:2}}));function Ca({agreed:e,changeAgreed:t}){const[n,s]=p.useState("item"),i=()=>{s(n?"":"item")};return ge(o=>o.theme.value),U(o=>o.languages.value),d.jsx("div",{className:"flex flex-col",children:d.jsx(Ri,{type:"single",collapsible:!0,children:d.jsxs(Li,{value:"item-1",children:[d.jsx(Ni,{className:"px-3",onClick:()=>i(),children:"쿠우산KHUSAN 개인정보 처리방침"}),d.jsxs(Fi,{className:"px-3",children:[d.jsx("div",{children:"쿠우산KHUSAN은 다음의 목적을 위하여 개인정보를 처리합니다. 처리하고 있는 개인정보는 다음의 목적 외의 용도로는 이용되지 않으며, 이용 목적이 변경되는 경우에는 관계 법령에 따라 별도의 동의를 받는 등 필요한 조치를 이행할 예정입니다."}),d.jsx("div",{children:"1. 회원 가입 및 관리"}),d.jsx("div",{children:"회원 자격 유지와 관리, 서비스 부정이용 방지 목적으로 개인정보를 처리합니다."}),d.jsx("div",{children:"2. 서비스 제공"}),d.jsx("div",{children:"콘텐츠 제공, 본인인증의 목적으로 개인정보를 처리합니다."}),d.jsx("div",{children:"3. 서비스 개선 및 분석"}),d.jsx("div",{children:"서비스 이용에 대한 분석, 서비스 개선을 목적으로 개인정보를 처리합니다."}),d.jsx("div",{children:"4. 서비스 개발"}),d.jsx("div",{children:"기존 서비스와 별개의 신규 서비스 개발 목적으로 개인정보를 처리합니다."}),d.jsx("div",{children:"각각의 개인정보 처리 및 보유 기간은 다음과 같습니다."}),d.jsx("div",{children:"1. 홈페이지 회원 가입: 회원 탈퇴 시까지"}),d.jsx("div",{children:"다만, 다음의 사유에 해당하는 경우에는 해당 사유 종료 시까지 보관합니다."}),d.jsx("div",{children:"1. 관계 법령 위반에 따른 수사, 조사 등이 진행 중인 경우에는 해당 수사, 조사 종료 시까지"}),d.jsx("div",{children:"쿠우산KHUSAN은 개인정보 보유기간의 경과, 처리목적 달성 등 개인정보가 불필요하게 되었을 떄에는 지체없이 해당 개인정보를 파기합니다."}),d.jsx("div",{children:"쿠우산KHUSAN은 정보주체에게 개별적인 서비스와 편의를 제공하기 위해 이용정보를 저장하고 수시로 불러오는 쿠키를 사용합니다."}),d.jsx("div",{children:"쿠우산KHUSAN은 원활한 개인정보 업무처리를 위하여 다음과 같이 개인정보 처리 업무를 위탁하고 있습니다."}),d.jsx("div",{children:"위탁받는 자: Google구글"}),d.jsx("div",{children:"위탁업무: 개인정보 관리"}),d.jsx("div",{children:"쿠키는 웹사이트 운영에 이용되는 http 서버가 정보주체의 브라우저에 보내는 소량의 정보로서 정보주체의 컴퓨터 또는 모바일에 저장되며, 웹사이트 접속 시 정보주체의 브라우저에서 서버로 자동 전송됩니다."}),d.jsx("div",{children:"정보주체는 브라우저 옵션 설정을 통해 쿠키 허용, 차단 등의 설정을 할 수 있습니다."}),d.jsxs("div",{className:"flex gap-5 items-center",children:[d.jsx(Pa,{checked:e,onClick:t}),d.jsx("div",{children:"개인정보 처리방침에 동의합니다."})]})]})]})})})}function Aa(){const[e,t]=p.useState(!1),n=()=>{t(!e)},s=ge(o=>o.theme.value),i=U(o=>o.languages.value);return d.jsxs("div",{children:[d.jsx(Ca,{agreed:e,changeAgreed:n}),d.jsx("div",{className:"p-3",children:i==="ko"?d.jsxs("div",{children:[d.jsx("div",{children:"1분이면 계정을 만들 수 있어요"}),d.jsx("div",{children:"지루하지 않게 노래도 준비했어요"})]}):d.jsxs("div",{children:[d.jsx("div",{children:"Only takes 1minute to register account"}),d.jsx("div",{children:"Playlist ready for you to get rid of boredom"})]})}),d.jsx("div",{className:"flex justify-center pt-3",children:s==="light"?d.jsx("iframe",{src:"https://open.spotify.com/embed/playlist/41clCj2piQBL3BSEFQN9J3?utm_source=generator",width:"90%",height:"200",allow:"autoplay; clipboard-write; fullscreen; picture-in-picture",loading:"lazy"}):d.jsx("iframe",{src:"https://open.spotify.com/embed/playlist/41clCj2piQBL3BSEFQN9J3?utm_source=generator&theme=0",width:"90%",height:"200",allow:"autoplay; clipboard-write; fullscreen; picture-in-picture",loading:"lazy"})}),d.jsx(zi,{signIn:!1,agreed:e})]})}function ja({userObj:e}){const[t,n]=p.useState(""),[s,i]=p.useState("");ge(l=>l.theme.value);const o=U(l=>l.languages.value),r=l=>{const{target:{name:c,value:u}}=l;n(u)},a=l=>{l.preventDefault(),Bo(en,t).then(()=>{i("sent"),console.log("sent")}).catch(c=>{i("error"),console.log(c),c.code,c.message})};return d.jsx("div",{className:"flex justify-center p-5",children:d.jsxs("div",{className:"flex flex-col border border-solid w-[470px] rounded-lg pt-5",children:[d.jsx("div",{className:"flex p-3",children:o==="ko"?d.jsx("div",{children:"비밀번호 재설정 메일을 보내드릴게요"}):d.jsx("div",{children:"We will send you a password reset email"})}),d.jsxs("form",{id:"password",className:"pt-3",onSubmit:a,children:[d.jsx("div",{className:"flex justify-center px-3",children:d.jsx(bt,{label:o==="ko"?"이메일":"email",value:t,onChange:r,variant:"outlined",name:"email",type:"email",fullWidth:!0,required:!0})}),d.jsxs("div",{className:"flex flex-col justify-center p-3",children:[d.jsx(Se,{variant:"outlined",startIcon:d.jsx("img",{src:nn,className:"w-[20px]"}),form:"password",type:"submit",children:o==="ko"?"메일 전송":"Send Mail"}),s==="sent"&&d.jsx("div",{className:"flex pt-5",children:o==="ko"?"메일을 보냈습니다.":"Sent mail."}),s==="error"&&d.jsx("div",{className:"flex pt-5",children:o==="ko"?"전송에 실패했습니다.":"Failed sending"})]})]})]})})}function Ma(){ge(t=>t.theme.value);const e=U(t=>t.languages.value);return d.jsx(d.Fragment,{children:d.jsx("div",{children:e==="ko"?"회원가입":"Register"})})}function Da(){ge(t=>t.theme.value);const e=U(t=>t.languages.value);return d.jsx(d.Fragment,{children:d.jsx("div",{children:e==="ko"?"비밀번호 찾기":"Find Password"})})}function Va(){ge(t=>t.theme.value);const e=U(t=>t.languages.value);return d.jsxs("div",{className:"flex justify-center text-xs p-5 gap-5",children:[d.jsx(rs,{trigger:d.jsx(Da,{}),title:d.jsx("div",{children:e==="ko"?"비밀번호 찾기":"Find Password"}),content:d.jsx(ja,{})}),d.jsx("div",{className:"flex items-center text-xl",children:"|"}),d.jsx(rs,{trigger:d.jsx(Ma,{}),title:d.jsx("div",{children:e==="ko"?"환영합니다":"Welcome"}),content:d.jsx(Aa,{})})]})}const zi=({signIn:e,agreed:t})=>{const[n,s]=p.useState({email:"",password:""}),[i,o]=p.useState(""),r=U(f=>f.languages.value),a=Io("needToAgreeOnTerms"),l=async f=>{f.preventDefault();try{await Oo(en,n.email,n.password),location.reload()}catch(h){h.message==="Firebase: Error (auth/invalid-credential)."&&o("로그인 실패: 계정을 확인해 주세요")}},c=async f=>{if(f.preventDefault(),t)try{const h=await Uo(en,n.email,n.password),m=Bi(Ii(H,"members")),x=(await Oi(m)).docs.length;zo({uid:h.user.uid,email:h.user.email,ranking:x}),await _o(h.user,{displayName:h.user.email}).catch(P=>{console.log("error")});const g=J(H,`members/${h.user.uid}`),y=os(as,h.user.uid);Wo(y,"null","raw").then(P=>{console.log("Uploaded a blob or file!"),ls(y).then(async A=>{await Ne(g,{profileImageUrl:A})}).catch(A=>{console.log(A)})});let w,S;const b=Math.random();Math.random()<1/3?S="profileRed":b<2/3?S="profileBlue":S="profileGold",b<.5?w="animal":w="plant";const D=os(as,`${w}${S}.png`);console.log(D);const E=J(H,`members/${h.user.uid}`);ls(D).then(P=>{console.log(P),Ne(E,{profileImage:!1,profileColor:S,defaultProfile:P})})}catch(h){h.message==="Firebase: Error (auth/invalid-credential)."?o("로그인 실패: 계정을 확인해 주세요"):h.message==="Firebase: Error (auth/email-already-in-use)."?o("회원가입 실패: 이미 가입된 계정입니다"):h.message==="Firebase: Error (auth/invalid-email)."?o("회원가입 실패: 계정을 확인해 주세요"):console.log(h.message)}},u=f=>{const{target:{name:h,value:m}}=f;h==="email"?s({email:m,password:n.password}):h==="password"&&s({...n,password:m})};return d.jsx("div",{className:"flex justify-center p-5",children:d.jsxs("div",{className:"flex flex-col border border-solid w-[470px] rounded-lg pt-5",children:[d.jsxs("form",{id:e?"auth":"signUp",className:"pt-3",onSubmit:e?l:c,children:[d.jsx("div",{className:"flex justify-center px-3",children:d.jsx(bt,{label:r==="ko"?"이메일":"email",value:n.email,onChange:u,variant:"outlined",name:"email",type:"email",fullWidth:!0,required:!0})}),d.jsx("div",{className:"flex justify-center px-3",children:d.jsx(bt,{label:r==="ko"?"비밀번호":"password",value:n.password,onChange:u,variant:"outlined",name:"password",type:"password",fullWidth:!0,required:!0})}),d.jsxs("div",{className:"flex flex-col justify-center p-3",children:[!e&&!t?d.jsx(Se,{variant:"outlined",startIcon:d.jsx("img",{src:nn,className:"w-[20px]"}),form:e?"auth":"signUp",disabled:!0,children:e?r==="ko"?"로그인":"Sign in":r==="ko"?"회원가입":"Register"}):d.jsx(Se,{variant:"outlined",startIcon:d.jsx("img",{src:nn,className:"w-[20px]"}),form:e?"auth":"signUp",type:"submit",children:e?r==="ko"?"로그인":"Sign in":r==="ko"?"회원가입":"Register"}),!e&&!t&&d.jsx("div",{children:a}),d.jsx("span",{children:i})]})]}),e&&d.jsx(Va,{})]})})},_i=p.createContext({});function Ea(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Sn=p.createContext(null),Wi=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ka(e=!0){const t=p.useContext(Sn);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,o=p.useId();p.useEffect(()=>{e&&i(o)},[e]);const r=p.useCallback(()=>e&&s&&s(o),[o,s,e]);return!n&&s?[!1,r]:[!0]}const Tn=typeof window<"u",Ra=Tn?p.useLayoutEffect:p.useEffect,Q=e=>e;let sn=Q;function bn(e){let t;return()=>(t===void 0&&(t=e()),t)}const $e=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},me=e=>e*1e3,pe=e=>e/1e3,La={skipAnimations:!1,useManualTiming:!1};function Na(e){let t=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let r={delta:0,timestamp:0,isProcessing:!1};function a(c){o.has(c)&&(l.schedule(c),e()),c(r)}const l={schedule:(c,u=!1,f=!1)=>{const m=f&&s?t:n;return u&&o.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),o.delete(c)},process:c=>{if(r=c,s){i=!0;return}s=!0,[t,n]=[n,t],t.forEach(a),t.clear(),s=!1,i&&(i=!1,l.process(c))}};return l}const yt=["read","resolveKeyframes","update","preRender","render","postRender"],Fa=40;function $i(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,r=yt.reduce((y,w)=>(y[w]=Na(o),y),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:f,postRender:h}=r,m=()=>{const y=performance.now();n=!1,i.delta=s?1e3/60:Math.max(Math.min(y-i.timestamp,Fa),1),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),f.process(i),h.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(m))},v=()=>{n=!0,s=!0,i.isProcessing||e(m)};return{schedule:yt.reduce((y,w)=>{const S=r[w];return y[w]=(b,T=!1,D=!1)=>(n||v(),S.schedule(b,T,D)),y},{}),cancel:y=>{for(let w=0;w<yt.length;w++)r[yt[w]].cancel(y)},state:i,steps:r}}const{schedule:R,cancel:Te,state:_,steps:zt}=$i(typeof requestAnimationFrame<"u"?requestAnimationFrame:Q,!0),Ki=p.createContext({strict:!1}),ms={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ke={};for(const e in ms)Ke[e]={isEnabled:t=>ms[e].some(n=>!!t[n])};function Ba(e){for(const t in e)Ke[t]={...Ke[t],...e[t]}}const Ia=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ct(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ia.has(e)}let Gi=e=>!Ct(e);function Oa(e){e&&(Gi=t=>t.startsWith("on")?!Ct(t):e(t))}try{Oa(require("@emotion/is-prop-valid").default)}catch{}function Ua(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(Gi(i)||n===!0&&Ct(i)||!t&&!Ct(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}function za(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...s)=>e(...s);return new Proxy(n,{get:(s,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Rt=p.createContext({});function at(e){return typeof e=="string"||Array.isArray(e)}function Lt(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Pn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cn=["initial",...Pn];function Nt(e){return Lt(e.animate)||Cn.some(t=>at(e[t]))}function Hi(e){return!!(Nt(e)||e.variants)}function _a(e,t){if(Nt(e)){const{initial:n,animate:s}=e;return{initial:n===!1||at(n)?n:void 0,animate:at(s)?s:void 0}}return e.inherit!==!1?t:{}}function Wa(e){const{initial:t,animate:n}=_a(e,p.useContext(Rt));return p.useMemo(()=>({initial:t,animate:n}),[ps(t),ps(n)])}function ps(e){return Array.isArray(e)?e.join(" "):e}const $a=Symbol.for("motionComponentSymbol");function Oe(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ka(e,t,n){return p.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Oe(n)&&(n.current=s))},[t])}const An=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ga="framerAppearId",Xi="data-"+An(Ga),{schedule:jn,cancel:Qh}=$i(queueMicrotask,!1),qi=p.createContext({});function Ha(e,t,n,s,i){var o,r;const{visualElement:a}=p.useContext(Rt),l=p.useContext(Ki),c=p.useContext(Sn),u=p.useContext(Wi).reducedMotion,f=p.useRef(null);s=s||l.renderer,!f.current&&s&&(f.current=s(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const h=f.current,m=p.useContext(qi);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&Xa(f.current,n,i,m);const v=p.useRef(!1);p.useInsertionEffect(()=>{h&&v.current&&h.update(n,c)});const x=n[Xi],g=p.useRef(!!x&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,x))&&((r=window.MotionHasOptimisedAnimation)===null||r===void 0?void 0:r.call(window,x)));return Ra(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),jn.render(h.render),g.current&&h.animationState&&h.animationState.animateChanges())}),p.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,x)}),g.current=!1))}),h}function Xa(e,t,n,s){const{layoutId:i,layout:o,drag:r,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Yi(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!r||a&&Oe(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,layoutScroll:l,layoutRoot:c})}function Yi(e){if(e)return e.options.allowProjection!==!1?e.projection:Yi(e.parent)}function qa({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:i}){var o,r;e&&Ba(e);function a(c,u){let f;const h={...p.useContext(Wi),...c,layoutId:Ya(c)},{isStatic:m}=h,v=Wa(c),x=s(c,m);if(!m&&Tn){Za();const g=Ja(h);f=g.MeasureLayout,v.visualElement=Ha(i,x,h,t,g.ProjectionNode)}return d.jsxs(Rt.Provider,{value:v,children:[f&&v.visualElement?d.jsx(f,{visualElement:v.visualElement,...h}):null,n(i,c,Ka(x,v.visualElement,u),x,m,v.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(r=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&r!==void 0?r:""})`}`;const l=p.forwardRef(a);return l[$a]=i,l}function Ya({layoutId:e}){const t=p.useContext(_i).id;return t&&e!==void 0?t+"-"+e:e}function Za(e,t){p.useContext(Ki).strict}function Ja(e){const{drag:t,layout:n}=Ke;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Qa=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mn(e){return typeof e!="string"||e.includes("-")?!1:!!(Qa.indexOf(e)>-1||/[A-Z]/u.test(e))}function gs(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Dn(e,t,n,s){if(typeof t=="function"){const[i,o]=gs(s);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=gs(s);t=t(n!==void 0?n:e.custom,i,o)}return t}const rn=e=>Array.isArray(e),el=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),tl=e=>rn(e)?e[e.length-1]||0:e,K=e=>!!(e&&e.getVelocity);function wt(e){const t=K(e)?e.get():e;return el(t)?t.toValue():t}function nl({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},s,i,o){const r={latestValues:sl(s,i,o,e),renderState:t()};return n&&(r.onMount=a=>n({props:s,current:a,...r}),r.onUpdate=a=>n(a)),r}const Zi=e=>(t,n)=>{const s=p.useContext(Rt),i=p.useContext(Sn),o=()=>nl(e,t,s,i);return n?o():Ea(o)};function sl(e,t,n,s){const i={},o=s(e,{});for(const h in o)i[h]=wt(o[h]);let{initial:r,animate:a}=e;const l=Nt(e),c=Hi(e);t&&c&&!l&&e.inherit!==!1&&(r===void 0&&(r=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||r===!1;const f=u?a:r;if(f&&typeof f!="boolean"&&!Lt(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const v=Dn(e,h[m]);if(v){const{transitionEnd:x,transition:g,...y}=v;for(const w in y){let S=y[w];if(Array.isArray(S)){const b=u?S.length-1:0;S=S[b]}S!==null&&(i[w]=S)}for(const w in x)i[w]=x[w]}}}return i}const Xe=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fe=new Set(Xe),Ji=e=>t=>typeof t=="string"&&t.startsWith(e),Qi=Ji("--"),il=Ji("var(--"),Vn=e=>il(e)?rl.test(e.split("/*")[0].trim()):!1,rl=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,er=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ye=(e,t,n)=>n>t?t:n<e?e:n,qe={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lt={...qe,transform:e=>ye(0,1,e)},vt={...qe,default:1},ht=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),we=ht("deg"),ue=ht("%"),C=ht("px"),ol=ht("vh"),al=ht("vw"),ys={...ue,parse:e=>ue.parse(e)/100,transform:e=>ue.transform(e*100)},ll={borderWidth:C,borderTopWidth:C,borderRightWidth:C,borderBottomWidth:C,borderLeftWidth:C,borderRadius:C,radius:C,borderTopLeftRadius:C,borderTopRightRadius:C,borderBottomRightRadius:C,borderBottomLeftRadius:C,width:C,maxWidth:C,height:C,maxHeight:C,top:C,right:C,bottom:C,left:C,padding:C,paddingTop:C,paddingRight:C,paddingBottom:C,paddingLeft:C,margin:C,marginTop:C,marginRight:C,marginBottom:C,marginLeft:C,backgroundPositionX:C,backgroundPositionY:C},cl={rotate:we,rotateX:we,rotateY:we,rotateZ:we,scale:vt,scaleX:vt,scaleY:vt,scaleZ:vt,skew:we,skewX:we,skewY:we,distance:C,translateX:C,translateY:C,translateZ:C,x:C,y:C,z:C,perspective:C,transformPerspective:C,opacity:lt,originX:ys,originY:ys,originZ:C},vs={...qe,transform:Math.round},En={...ll,...cl,zIndex:vs,size:C,fillOpacity:lt,strokeOpacity:lt,numOctaves:vs},ul={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dl=Xe.length;function hl(e,t,n){let s="",i=!0;for(let o=0;o<dl;o++){const r=Xe[o],a=e[r];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(r.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=er(a,En[r]);if(!l){i=!1;const u=ul[r]||r;s+=`${u}(${c}) `}n&&(t[r]=c)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function kn(e,t,n){const{style:s,vars:i,transformOrigin:o}=e;let r=!1,a=!1;for(const l in t){const c=t[l];if(Fe.has(l)){r=!0;continue}else if(Qi(l)){i[l]=c;continue}else{const u=er(c,En[l]);l.startsWith("origin")?(a=!0,o[l]=u):s[l]=u}}if(t.transform||(r||n?s.transform=hl(t,e.transform,n):s.transform&&(s.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=o;s.transformOrigin=`${l} ${c} ${u}`}}const fl={offset:"stroke-dashoffset",array:"stroke-dasharray"},ml={offset:"strokeDashoffset",array:"strokeDasharray"};function pl(e,t,n=1,s=0,i=!0){e.pathLength=1;const o=i?fl:ml;e[o.offset]=C.transform(-s);const r=C.transform(t),a=C.transform(n);e[o.array]=`${r} ${a}`}function xs(e,t,n){return typeof e=="string"?e:C.transform(t+n*e)}function gl(e,t,n){const s=xs(t,e.x,e.width),i=xs(n,e.y,e.height);return`${s} ${i}`}function Rn(e,{attrX:t,attrY:n,attrScale:s,originX:i,originY:o,pathLength:r,pathSpacing:a=1,pathOffset:l=0,...c},u,f){if(kn(e,c,f),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m,dimensions:v}=e;h.transform&&(v&&(m.transform=h.transform),delete h.transform),v&&(i!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=gl(v,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),s!==void 0&&(h.scale=s),r!==void 0&&pl(h,r,a,l,!1)}const Ln=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),tr=()=>({...Ln(),attrs:{}}),Nn=e=>typeof e=="string"&&e.toLowerCase()==="svg";function nr(e,{style:t,vars:n},s,i){Object.assign(e.style,t,i&&i.getProjectionStyles(s));for(const o in n)e.style.setProperty(o,n[o])}const sr=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ir(e,t,n,s){nr(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(sr.has(i)?i:An(i),t.attrs[i])}const At={};function yl(e){Object.assign(At,e)}function rr(e,{layout:t,layoutId:n}){return Fe.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!At[e]||e==="opacity")}function Fn(e,t,n){var s;const{style:i}=e,o={};for(const r in i)(K(i[r])||t.style&&K(t.style[r])||rr(r,e)||((s=n==null?void 0:n.getValue(r))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(o[r]=i[r]);return o}function or(e,t,n){const s=Fn(e,t,n);for(const i in e)if(K(e[i])||K(t[i])){const o=Xe.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[o]=e[i]}return s}function vl(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const ws=["x","y","width","height","cx","cy","r"],xl={useVisualState:Zi({scrapeMotionValuesFromProps:or,createRenderState:tr,onUpdate:({props:e,prevProps:t,current:n,renderState:s,latestValues:i})=>{if(!n)return;let o=!!e.drag;if(!o){for(const a in i)if(Fe.has(a)){o=!0;break}}if(!o)return;let r=!t;if(t)for(let a=0;a<ws.length;a++){const l=ws[a];e[l]!==t[l]&&(r=!0)}r&&R.read(()=>{vl(n,s),R.render(()=>{Rn(s,i,Nn(n.tagName),e.transformTemplate),ir(n,s)})})}})},wl={useVisualState:Zi({scrapeMotionValuesFromProps:Fn,createRenderState:Ln})};function ar(e,t,n){for(const s in t)!K(t[s])&&!rr(s,n)&&(e[s]=t[s])}function Sl({transformTemplate:e},t){return p.useMemo(()=>{const n=Ln();return kn(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Tl(e,t){const n=e.style||{},s={};return ar(s,n,e),Object.assign(s,Sl(e,t)),s}function bl(e,t){const n={},s=Tl(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}function Pl(e,t,n,s){const i=p.useMemo(()=>{const o=tr();return Rn(o,t,Nn(s),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};ar(o,e.style,e),i.style={...o,...i.style}}return i}function Cl(e=!1){return(n,s,i,{latestValues:o},r)=>{const l=(Mn(n)?Pl:bl)(s,o,r,n),c=Ua(s,typeof n=="string",e),u=n!==p.Fragment?{...c,...l,ref:i}:{},{children:f}=s,h=p.useMemo(()=>K(f)?f.get():f,[f]);return p.createElement(n,{...u,children:h})}}function Al(e,t){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const r={...Mn(s)?xl:wl,preloadedFeatures:e,useRender:Cl(i),createVisualElement:t,Component:s};return qa(r)}}function lr(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function Ft(e,t,n){const s=e.getProps();return Dn(s,t,n!==void 0?n:s.custom,e)}const jl=bn(()=>window.ScrollTimeline!==void 0);class Ml{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t,n){const s=this.animations.map(i=>{if(jl()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{s.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Dl extends Ml{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Bn(e,t){return e?e[t]||e.default||e:void 0}const on=2e4;function cr(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<on;)t+=n,s=e.next(t);return t>=on?1/0:t}function In(e){return typeof e=="function"}function Ss(e,t){e.timeline=t,e.onfinish=null}const On=e=>Array.isArray(e)&&typeof e[0]=="number",Vl={linearEasing:void 0};function El(e,t){const n=bn(e);return()=>{var s;return(s=Vl[t])!==null&&s!==void 0?s:n()}}const jt=El(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ur=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)s+=e($e(0,i-1,o))+", ";return`linear(${s.substring(0,s.length-2)})`};function dr(e){return!!(typeof e=="function"&&jt()||!e||typeof e=="string"&&(e in an||jt())||On(e)||Array.isArray(e)&&e.every(dr))}const et=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,an={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:et([0,.65,.55,1]),circOut:et([.55,0,1,.45]),backIn:et([.31,.01,.66,-.59]),backOut:et([.33,1.53,.69,.99])};function hr(e,t){if(e)return typeof e=="function"&&jt()?ur(e,t):On(e)?et(e):Array.isArray(e)?e.map(n=>hr(n,t)||an.easeOut):an[e]}const ce={x:!1,y:!1};function fr(){return ce.x||ce.y}function kl(e,t,n){var s;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const o=(s=void 0)!==null&&s!==void 0?s:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function mr(e,t){const n=kl(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function Ts(e){return t=>{t.pointerType==="touch"||fr()||e(t)}}function Rl(e,t,n={}){const[s,i,o]=mr(e,n),r=Ts(a=>{const{target:l}=a,c=t(a);if(typeof c!="function"||!l)return;const u=Ts(f=>{c(f),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return s.forEach(a=>{a.addEventListener("pointerenter",r,i)}),o}const pr=(e,t)=>t?e===t?!0:pr(e,t.parentElement):!1,Un=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Ll=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Nl(e){return Ll.has(e.tagName)||e.tabIndex!==-1}const tt=new WeakSet;function bs(e){return t=>{t.key==="Enter"&&e(t)}}function _t(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Fl=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=bs(()=>{if(tt.has(n))return;_t(n,"down");const i=bs(()=>{_t(n,"up")}),o=()=>_t(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Ps(e){return Un(e)&&!fr()}function Bl(e,t,n={}){const[s,i,o]=mr(e,n),r=a=>{const l=a.currentTarget;if(!Ps(a)||tt.has(l))return;tt.add(l);const c=t(a),u=(m,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!Ps(m)||!tt.has(l))&&(tt.delete(l),typeof c=="function"&&c(m,{success:v}))},f=m=>{u(m,n.useGlobalTarget||pr(l,m.target))},h=m=>{u(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return s.forEach(a=>{!Nl(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",r,i),a.addEventListener("focus",c=>Fl(c,i),i)}),o}function Il(e){return e==="x"||e==="y"?ce[e]?null:(ce[e]=!0,()=>{ce[e]=!1}):ce.x||ce.y?null:(ce.x=ce.y=!0,()=>{ce.x=ce.y=!1})}const gr=new Set(["width","height","top","left","right","bottom",...Xe]);let St;function Ol(){St=void 0}const de={now:()=>(St===void 0&&de.set(_.isProcessing||La.useManualTiming?_.timestamp:performance.now()),St),set:e=>{St=e,queueMicrotask(Ol)}};function zn(e,t){e.indexOf(t)===-1&&e.push(t)}function _n(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Wn{constructor(){this.subscriptions=[]}add(t){return zn(this.subscriptions,t),()=>_n(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let o=0;o<i;o++){const r=this.subscriptions[o];r&&r(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function yr(e,t){return t?e*(1e3/t):0}const Cs=30,Ul=e=>!isNaN(parseFloat(e));class zl{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{const o=de.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=de.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ul(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Wn);const s=this.events[t].add(n);return t==="change"?()=>{s(),R.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=de.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Cs)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Cs);return yr(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ct(e,t){return new zl(e,t)}function _l(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ct(n))}function Wl(e,t){const n=Ft(e,t);let{transitionEnd:s={},transition:i={},...o}=n||{};o={...o,...s};for(const r in o){const a=tl(o[r]);_l(e,r,a)}}function $l(e){return!!(K(e)&&e.add)}function ln(e,t){const n=e.getValue("willChange");if($l(n))return n.add(t)}function vr(e){return e.props[Xi]}const xr=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Kl=1e-7,Gl=12;function Hl(e,t,n,s,i){let o,r,a=0;do r=t+(n-t)/2,o=xr(r,s,i)-e,o>0?n=r:t=r;while(Math.abs(o)>Kl&&++a<Gl);return r}function ft(e,t,n,s){if(e===t&&n===s)return Q;const i=o=>Hl(o,0,1,e,n);return o=>o===0||o===1?o:xr(i(o),t,s)}const wr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Sr=e=>t=>1-e(1-t),Tr=ft(.33,1.53,.69,.99),$n=Sr(Tr),br=wr($n),Pr=e=>(e*=2)<1?.5*$n(e):.5*(2-Math.pow(2,-10*(e-1))),Kn=e=>1-Math.sin(Math.acos(e)),Cr=Sr(Kn),Ar=wr(Kn),jr=e=>/^0[^.\s]+$/u.test(e);function Xl(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||jr(e):!0}const st=e=>Math.round(e*1e5)/1e5,Gn=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ql(e){return e==null}const Yl=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Hn=(e,t)=>n=>!!(typeof n=="string"&&Yl.test(n)&&n.startsWith(e)||t&&!ql(n)&&Object.prototype.hasOwnProperty.call(n,t)),Mr=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,o,r,a]=s.match(Gn);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(r),alpha:a!==void 0?parseFloat(a):1}},Zl=e=>ye(0,255,e),Wt={...qe,transform:e=>Math.round(Zl(e))},ke={test:Hn("rgb","red"),parse:Mr("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Wt.transform(e)+", "+Wt.transform(t)+", "+Wt.transform(n)+", "+st(lt.transform(s))+")"};function Jl(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const cn={test:Hn("#"),parse:Jl,transform:ke.transform},Ue={test:Hn("hsl","hue"),parse:Mr("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+ue.transform(st(t))+", "+ue.transform(st(n))+", "+st(lt.transform(s))+")"},$={test:e=>ke.test(e)||cn.test(e)||Ue.test(e),parse:e=>ke.test(e)?ke.parse(e):Ue.test(e)?Ue.parse(e):cn.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ke.transform(e):Ue.transform(e)},Ql=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ec(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Gn))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Ql))===null||n===void 0?void 0:n.length)||0)>0}const Dr="number",Vr="color",tc="var",nc="var(",As="${}",sc=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ut(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(sc,l=>($.test(l)?(s.color.push(o),i.push(Vr),n.push($.parse(l))):l.startsWith(nc)?(s.var.push(o),i.push(tc),n.push(l)):(s.number.push(o),i.push(Dr),n.push(parseFloat(l))),++o,As)).split(As);return{values:n,split:a,indexes:s,types:i}}function Er(e){return ut(e).values}function kr(e){const{split:t,types:n}=ut(e),s=t.length;return i=>{let o="";for(let r=0;r<s;r++)if(o+=t[r],i[r]!==void 0){const a=n[r];a===Dr?o+=st(i[r]):a===Vr?o+=$.transform(i[r]):o+=i[r]}return o}}const ic=e=>typeof e=="number"?0:e;function rc(e){const t=Er(e);return kr(e)(t.map(ic))}const be={test:ec,parse:Er,createTransformer:kr,getAnimatableNone:rc},oc=new Set(["brightness","contrast","saturate","opacity"]);function ac(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Gn)||[];if(!s)return e;const i=n.replace(s,"");let o=oc.has(t)?1:0;return s!==n&&(o*=100),t+"("+o+i+")"}const lc=/\b([a-z-]*)\(.*?\)/gu,un={...be,getAnimatableNone:e=>{const t=e.match(lc);return t?t.map(ac).join(" "):e}},cc={...En,color:$,backgroundColor:$,outlineColor:$,fill:$,stroke:$,borderColor:$,borderTopColor:$,borderRightColor:$,borderBottomColor:$,borderLeftColor:$,filter:un,WebkitFilter:un},Xn=e=>cc[e];function Rr(e,t){let n=Xn(e);return n!==un&&(n=be),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const uc=new Set(["auto","none","0"]);function dc(e,t,n){let s=0,i;for(;s<e.length&&!i;){const o=e[s];typeof o=="string"&&!uc.has(o)&&ut(o).values.length&&(i=e[s]),s++}if(i&&n)for(const o of t)e[o]=Rr(n,i)}const js=e=>e===qe||e===C,Ms=(e,t)=>parseFloat(e.split(", ")[t]),Ds=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/u);if(i)return Ms(i[1],t);{const o=s.match(/^matrix\((.+)\)$/u);return o?Ms(o[1],e):0}},hc=new Set(["x","y","z"]),fc=Xe.filter(e=>!hc.has(e));function mc(e){const t=[];return fc.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ge={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ds(4,13),y:Ds(5,14)};Ge.translateX=Ge.x;Ge.translateY=Ge.y;const Le=new Set;let dn=!1,hn=!1;function Lr(){if(hn){const e=Array.from(Le).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=mc(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([o,r])=>{var a;(a=s.getValue(o))===null||a===void 0||a.set(r)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}hn=!1,dn=!1,Le.forEach(e=>e.complete()),Le.clear()}function Nr(){Le.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(hn=!0)})}function pc(){Nr(),Lr()}class qn{constructor(t,n,s,i,o,r=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=o,this.isAsync=r}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Le.add(this),dn||(dn=!0,R.read(Nr),R.resolveKeyframes(Lr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const r=i==null?void 0:i.get(),a=t[t.length-1];if(r!==void 0)t[0]=r;else if(s&&n){const l=s.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&r===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Le.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Le.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Fr=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),gc=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yc(e){const t=gc.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function Br(e,t,n=1){const[s,i]=yc(e);if(!s)return;const o=window.getComputedStyle(t).getPropertyValue(s);if(o){const r=o.trim();return Fr(r)?parseFloat(r):r}return Vn(i)?Br(i,t,n+1):i}const Ir=e=>t=>t.test(e),vc={test:e=>e==="auto",parse:e=>e},Or=[qe,C,ue,we,al,ol,vc],Vs=e=>Or.find(Ir(e));class Ur extends qn{constructor(t,n,s,i,o){super(t,n,s,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Vn(c))){const u=Br(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!gr.has(s)||t.length!==2)return;const[i,o]=t,r=Vs(i),a=Vs(o);if(r!==a)if(js(r)&&js(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)Xl(t[i])&&s.push(i);s.length&&dc(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ge[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:s,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(s);o&&o.jump(this.measuredOrigin,!1);const r=i.length-1,a=i[r];i[r]=Ge[s](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const Es=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(be.test(e)||e==="0")&&!e.startsWith("url("));function xc(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function wc(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],r=Es(i,t),a=Es(o,t);return!r||!a?!1:xc(e)||(n==="spring"||In(n))&&s}const Sc=e=>e!==null;function Bt(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(Sc),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||s===void 0?i[o]:s}const Tc=40;class zr{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:r="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=de.now(),this.options={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:o,repeatType:r,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Tc?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&pc(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=de.now(),this.hasAttemptedResolve=!0;const{name:s,type:i,velocity:o,delay:r,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!wc(t,s,i,o))if(r)this.options.duration=0;else{l&&l(Bt(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const F=(e,t,n)=>e+(t-e)*n;function $t(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function bc({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,o=0,r=0;if(!t)i=o=r=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=$t(l,a,e+1/3),o=$t(l,a,e),r=$t(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(r*255),alpha:s}}function Mt(e,t){return n=>n>0?t:e}const Kt=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},Pc=[cn,ke,Ue],Cc=e=>Pc.find(t=>t.test(e));function ks(e){const t=Cc(e);if(!t)return!1;let n=t.parse(e);return t===Ue&&(n=bc(n)),n}const Rs=(e,t)=>{const n=ks(e),s=ks(t);if(!n||!s)return Mt(e,t);const i={...n};return o=>(i.red=Kt(n.red,s.red,o),i.green=Kt(n.green,s.green,o),i.blue=Kt(n.blue,s.blue,o),i.alpha=F(n.alpha,s.alpha,o),ke.transform(i))},Ac=(e,t)=>n=>t(e(n)),mt=(...e)=>e.reduce(Ac),fn=new Set(["none","hidden"]);function jc(e,t){return fn.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Mc(e,t){return n=>F(e,t,n)}function Yn(e){return typeof e=="number"?Mc:typeof e=="string"?Vn(e)?Mt:$.test(e)?Rs:Ec:Array.isArray(e)?_r:typeof e=="object"?$.test(e)?Rs:Dc:Mt}function _r(e,t){const n=[...e],s=n.length,i=e.map((o,r)=>Yn(o)(o,t[r]));return o=>{for(let r=0;r<s;r++)n[r]=i[r](o);return n}}function Dc(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=Yn(e[i])(e[i],t[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}}function Vc(e,t){var n;const s=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const r=t.types[o],a=e.indexes[r][i[r]],l=(n=e.values[a])!==null&&n!==void 0?n:0;s[o]=l,i[r]++}return s}const Ec=(e,t)=>{const n=be.createTransformer(t),s=ut(e),i=ut(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?fn.has(e)&&!i.values.length||fn.has(t)&&!s.values.length?jc(e,t):mt(_r(Vc(s,i),i.values),n):Mt(e,t)};function Wr(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?F(e,t,n):Yn(e)(e,t)}const kc=5;function $r(e,t,n){const s=Math.max(t-kc,0);return yr(n-e(s),t-s)}const B={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gt=.001;function Rc({duration:e=B.duration,bounce:t=B.bounce,velocity:n=B.velocity,mass:s=B.mass}){let i,o,r=1-t;r=ye(B.minDamping,B.maxDamping,r),e=ye(B.minDuration,B.maxDuration,pe(e)),r<1?(i=c=>{const u=c*r,f=u*e,h=u-n,m=mn(c,r),v=Math.exp(-f);return Gt-h/m*v},o=c=>{const f=c*r*e,h=f*n+n,m=Math.pow(r,2)*Math.pow(c,2)*e,v=Math.exp(-f),x=mn(Math.pow(c,2),r);return(-i(c)+Gt>0?-1:1)*((h-m)*v)/x}):(i=c=>{const u=Math.exp(-c*e),f=(c-n)*e+1;return-Gt+u*f},o=c=>{const u=Math.exp(-c*e),f=(n-c)*(e*e);return u*f});const a=5/e,l=Nc(i,o,a);if(e=me(e),isNaN(l))return{stiffness:B.stiffness,damping:B.damping,duration:e};{const c=Math.pow(l,2)*s;return{stiffness:c,damping:r*2*Math.sqrt(s*c),duration:e}}}const Lc=12;function Nc(e,t,n){let s=n;for(let i=1;i<Lc;i++)s=s-e(s)/t(s);return s}function mn(e,t){return e*Math.sqrt(1-t*t)}const Fc=["duration","bounce"],Bc=["stiffness","damping","mass"];function Ls(e,t){return t.some(n=>e[n]!==void 0)}function Ic(e){let t={velocity:B.velocity,stiffness:B.stiffness,damping:B.damping,mass:B.mass,isResolvedFromDuration:!1,...e};if(!Ls(e,Bc)&&Ls(e,Fc))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,o=2*ye(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:B.mass,stiffness:i,damping:o}}else{const n=Rc(e);t={...t,...n,mass:B.mass},t.isResolvedFromDuration=!0}return t}function Kr(e=B.visualDuration,t=B.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const o=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:m}=Ic({...n,velocity:-pe(n.velocity||0)}),v=h||0,x=c/(2*Math.sqrt(l*u)),g=r-o,y=pe(Math.sqrt(l/u)),w=Math.abs(g)<5;s||(s=w?B.restSpeed.granular:B.restSpeed.default),i||(i=w?B.restDelta.granular:B.restDelta.default);let S;if(x<1){const T=mn(y,x);S=D=>{const E=Math.exp(-x*y*D);return r-E*((v+x*y*g)/T*Math.sin(T*D)+g*Math.cos(T*D))}}else if(x===1)S=T=>r-Math.exp(-y*T)*(g+(v+y*g)*T);else{const T=y*Math.sqrt(x*x-1);S=D=>{const E=Math.exp(-x*y*D),P=Math.min(T*D,300);return r-E*((v+x*y*g)*Math.sinh(P)+T*g*Math.cosh(P))/T}}const b={calculatedDuration:m&&f||null,next:T=>{const D=S(T);if(m)a.done=T>=f;else{let E=0;x<1&&(E=T===0?me(v):$r(S,T,D));const P=Math.abs(E)<=s,A=Math.abs(r-D)<=i;a.done=P&&A}return a.value=a.done?r:D,a},toString:()=>{const T=Math.min(cr(b),on),D=ur(E=>b.next(T*E).value,T,30);return T+"ms "+D}};return b}function Ns({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:r,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},m=P=>a!==void 0&&P<a||l!==void 0&&P>l,v=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let x=n*t;const g=f+x,y=r===void 0?g:r(g);y!==g&&(x=y-f);const w=P=>-x*Math.exp(-P/s),S=P=>y+w(P),b=P=>{const A=w(P),k=S(P);h.done=Math.abs(A)<=c,h.value=h.done?y:k};let T,D;const E=P=>{m(h.value)&&(T=P,D=Kr({keyframes:[h.value,v(h.value)],velocity:$r(S,P,h.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:P=>{let A=!1;return!D&&T===void 0&&(A=!0,b(P),E(P)),T!==void 0&&P>=T?D.next(P-T):(!A&&b(P),h)}}}const Oc=ft(.42,0,1,1),Uc=ft(0,0,.58,1),Gr=ft(.42,0,.58,1),zc=e=>Array.isArray(e)&&typeof e[0]!="number",Fs={linear:Q,easeIn:Oc,easeInOut:Gr,easeOut:Uc,circIn:Kn,circInOut:Ar,circOut:Cr,backIn:$n,backInOut:br,backOut:Tr,anticipate:Pr},Bs=e=>{if(On(e)){sn(e.length===4);const[t,n,s,i]=e;return ft(t,n,s,i)}else if(typeof e=="string")return sn(Fs[e]!==void 0),Fs[e];return e};function _c(e,t,n){const s=[],i=n||Wr,o=e.length-1;for(let r=0;r<o;r++){let a=i(e[r],e[r+1]);if(t){const l=Array.isArray(t)?t[r]||Q:t;a=mt(l,a)}s.push(a)}return s}function Wc(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const o=e.length;if(sn(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=_c(t,s,i),l=a.length,c=u=>{if(r&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=$e(e[f],e[f+1],u);return a[f](h)};return n?u=>c(ye(e[0],e[o-1],u)):c}function $c(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=$e(0,t,s);e.push(F(n,1,i))}}function Kc(e){const t=[0];return $c(t,e.length-1),t}function Gc(e,t){return e.map(n=>n*t)}function Hc(e,t){return e.map(()=>t||Gr).splice(0,e.length-1)}function Dt({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=zc(s)?s.map(Bs):Bs(s),o={done:!1,value:t[0]},r=Gc(n&&n.length===t.length?n:Kc(t),e),a=Wc(r,t,{ease:Array.isArray(i)?i:Hc(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const Xc=e=>{const t=({timestamp:n})=>e(n);return{start:()=>R.update(t,!0),stop:()=>Te(t),now:()=>_.isProcessing?_.timestamp:de.now()}},qc={decay:Ns,inertia:Ns,tween:Dt,keyframes:Dt,spring:Kr},Yc=e=>e/100;class Zn extends zr{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:s,element:i,keyframes:o}=this.options,r=(i==null?void 0:i.KeyframeResolver)||qn,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new r(o,a,n,s,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o,velocity:r=0}=this.options,a=In(n)?n:qc[n]||Dt;let l,c;a!==Dt&&typeof t[0]!="number"&&(l=mt(Yc,Wr(t[0],t[1])),t=[0,100]);const u=a({...this.options,keyframes:t});o==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-r})),u.calculatedDuration===null&&(u.calculatedDuration=cr(u));const{calculatedDuration:f}=u,h=f+i,m=h*(s+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:s}=this;if(!s){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:r,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:f}=s;if(this.startTime===null)return o.next(0);const{delay:h,repeat:m,repeatType:v,repeatDelay:x,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),w=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let S=this.currentTime,b=o;if(m){const P=Math.min(this.currentTime,u)/f;let A=Math.floor(P),k=P%1;!k&&P>=1&&(k=1),k===1&&A--,A=Math.min(A,m+1),!!(A%2)&&(v==="reverse"?(k=1-k,x&&(k-=x/f)):v==="mirror"&&(b=r)),S=ye(0,1,k)*f}const T=w?{done:!1,value:l[0]}:b.next(S);a&&(T.value=a(T.value));let{done:D}=T;!w&&c!==null&&(D=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return E&&i!==void 0&&(T.value=Bt(l,this.options,i)),g&&g(T.value),E&&this.finish(),T}get duration(){const{resolved:t}=this;return t?pe(t.calculatedDuration):0}get time(){return pe(this.currentTime)}set time(t){t=me(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=pe(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Xc,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Zc=new Set(["opacity","clipPath","filter","transform"]);function Jc(e,t,n,{delay:s=0,duration:i=300,repeat:o=0,repeatType:r="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=hr(a,i);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:s,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:r==="reverse"?"alternate":"normal"})}const Qc=bn(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Vt=10,eu=2e4;function tu(e){return In(e.type)||e.type==="spring"||!dr(e.ease)}function nu(e,t){const n=new Zn({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const i=[];let o=0;for(;!s.done&&o<eu;)s=n.sample(o),i.push(s.value),o+=Vt;return{times:void 0,keyframes:i,duration:o-Vt,ease:"linear"}}const Hr={anticipate:Pr,backInOut:br,circInOut:Ar};function su(e){return e in Hr}class Is extends zr{constructor(t){super(t);const{name:n,motionValue:s,element:i,keyframes:o}=this.options;this.resolver=new Ur(o,(r,a)=>this.onKeyframesResolved(r,a),n,s,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:s=300,times:i,ease:o,type:r,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof o=="string"&&jt()&&su(o)&&(o=Hr[o]),tu(this.options)){const{onComplete:f,onUpdate:h,motionValue:m,element:v,...x}=this.options,g=nu(t,x);t=g.keyframes,t.length===1&&(t[1]=t[0]),s=g.duration,i=g.times,o=g.ease,r="keyframes"}const u=Jc(a.owner.current,l,t,{...this.options,duration:s,times:i,ease:o});return u.startTime=c??this.calcStartTime(),this.pendingTimeline?(Ss(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:f}=this.options;a.set(Bt(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:s,times:i,type:r,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return pe(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return pe(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=me(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Q;const{animation:s}=n;Ss(s,t)}return Q}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:s,duration:i,type:o,ease:r,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:f,element:h,...m}=this.options,v=new Zn({...m,keyframes:s,duration:i,type:o,ease:r,times:a,isGenerator:!0}),x=me(this.time);c.setWithVelocity(v.sample(x-Vt).value,v.sample(x).value,Vt)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:s,repeatDelay:i,repeatType:o,damping:r,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Qc()&&s&&Zc.has(s)&&!l&&!c&&!i&&o!=="mirror"&&r!==0&&a!=="inertia"}}const iu={type:"spring",stiffness:500,damping:25,restSpeed:10},ru=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ou={type:"keyframes",duration:.8},au={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lu=(e,{keyframes:t})=>t.length>2?ou:Fe.has(e)?e.startsWith("scale")?ru(t[1]):iu:au;function cu({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:r,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Jn=(e,t,n,s={},i,o)=>r=>{const a=Bn(s,e)||{},l=a.delay||s.delay||0;let{elapsed:c=0}=s;c=c-me(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{r(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};cu(a)||(u={...u,...lu(e,u)}),u.duration&&(u.duration=me(u.duration)),u.repeatDelay&&(u.repeatDelay=me(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),f&&!o&&t.get()!==void 0){const h=Bt(u.keyframes,a);if(h!==void 0)return R.update(()=>{u.onUpdate(h),u.onComplete()}),new Dl([])}return!o&&Is.supports(u)?new Is(u):new Zn(u)};function uu({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Xr(e,t,{delay:n=0,transitionOverride:s,type:i}={}){var o;let{transition:r=e.getDefaultTransition(),transitionEnd:a,...l}=t;s&&(r=s);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const f in l){const h=e.getValue(f,(o=e.latestValues[f])!==null&&o!==void 0?o:null),m=l[f];if(m===void 0||u&&uu(u,f))continue;const v={delay:n,...Bn(r||{},f)};let x=!1;if(window.MotionHandoffAnimation){const y=vr(e);if(y){const w=window.MotionHandoffAnimation(y,f,R);w!==null&&(v.startTime=w,x=!0)}}ln(e,f),h.start(Jn(f,h,m,e.shouldReduceMotion&&gr.has(f)?{type:!1}:v,e,x));const g=h.animation;g&&c.push(g)}return a&&Promise.all(c).then(()=>{R.update(()=>{a&&Wl(e,a)})}),c}function pn(e,t,n={}){var s;const i=Ft(e,t,n.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const r=i?()=>Promise.all(Xr(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=o;return du(e,t,u+c,f,h,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[c,u]=l==="beforeChildren"?[r,a]:[a,r];return c().then(()=>u())}else return Promise.all([r(),a(n.delay)])}function du(e,t,n=0,s=0,i=1,o){const r=[],a=(e.variantChildren.size-1)*s,l=i===1?(c=0)=>c*s:(c=0)=>a-c*s;return Array.from(e.variantChildren).sort(hu).forEach((c,u)=>{c.notify("AnimationStart",t),r.push(pn(c,t,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(r)}function hu(e,t){return e.sortNodePosition(t)}function fu(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(o=>pn(e,o,n));s=Promise.all(i)}else if(typeof t=="string")s=pn(e,t,n);else{const i=typeof t=="function"?Ft(e,t,n.custom):t;s=Promise.all(Xr(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const mu=Cn.length;function qr(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?qr(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<mu;n++){const s=Cn[n],i=e.props[s];(at(i)||i===!1)&&(t[s]=i)}return t}const pu=[...Pn].reverse(),gu=Pn.length;function yu(e){return t=>Promise.all(t.map(({animation:n,options:s})=>fu(e,n,s)))}function vu(e){let t=yu(e),n=Os(),s=!0;const i=l=>(c,u)=>{var f;const h=Ft(e,u,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:m,transitionEnd:v,...x}=h;c={...c,...x,...v}}return c};function o(l){t=l(e)}function r(l){const{props:c}=e,u=qr(e.parent)||{},f=[],h=new Set;let m={},v=1/0;for(let g=0;g<gu;g++){const y=pu[g],w=n[y],S=c[y]!==void 0?c[y]:u[y],b=at(S),T=y===l?w.isActive:null;T===!1&&(v=g);let D=S===u[y]&&S!==c[y]&&b;if(D&&s&&e.manuallyAnimateOnMount&&(D=!1),w.protectedKeys={...m},!w.isActive&&T===null||!S&&!w.prevProp||Lt(S)||typeof S=="boolean")continue;const E=xu(w.prevProp,S);let P=E||y===l&&w.isActive&&!D&&b||g>v&&b,A=!1;const k=Array.isArray(S)?S:[S];let z=k.reduce(i(y),{});T===!1&&(z={});const{prevResolvedValues:I={}}=w,V={...I,...z},X=L=>{P=!0,h.has(L)&&(A=!0,h.delete(L)),w.needsAnimating[L]=!0;const W=e.getValue(L);W&&(W.liveStyle=!1)};for(const L in V){const W=z[L],q=I[L];if(m.hasOwnProperty(L))continue;let ae=!1;rn(W)&&rn(q)?ae=!lr(W,q):ae=W!==q,ae?W!=null?X(L):h.add(L):W!==void 0&&h.has(L)?X(L):w.protectedKeys[L]=!0}w.prevProp=S,w.prevResolvedValues=z,w.isActive&&(m={...m,...z}),s&&e.blockInitialAnimation&&(P=!1),P&&(!(D&&E)||A)&&f.push(...k.map(L=>({animation:L,options:{type:y}})))}if(h.size){const g={};h.forEach(y=>{const w=e.getBaseTarget(y),S=e.getValue(y);S&&(S.liveStyle=!0),g[y]=w??null}),f.push({animation:g})}let x=!!f.length;return s&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(x=!1),s=!1,x?t(f):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(h=>{var m;return(m=h.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const f=r(l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:r,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Os(),s=!0}}}function xu(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!lr(t,e):!1}function Me(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Os(){return{animate:Me(!0),whileInView:Me(),whileHover:Me(),whileTap:Me(),whileDrag:Me(),whileFocus:Me(),exit:Me()}}class Pe{constructor(t){this.isMounted=!1,this.node=t}update(){}}class wu extends Pe{constructor(t){super(t),t.animationState||(t.animationState=vu(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Lt(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Su=0;class Tu extends Pe{constructor(){super(...arguments),this.id=Su++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const bu={animation:{Feature:wu},exit:{Feature:Tu}};function dt(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function pt(e){return{point:{x:e.pageX,y:e.pageY}}}const Pu=e=>t=>Un(t)&&e(t,pt(t));function it(e,t,n,s){return dt(e,t,Pu(n),s)}const Us=(e,t)=>Math.abs(e-t);function Cu(e,t){const n=Us(e.x,t.x),s=Us(e.y,t.y);return Math.sqrt(n**2+s**2)}class Yr{constructor(t,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Xt(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Cu(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:v}=f,{timestamp:x}=_;this.history.push({...v,timestamp:x});const{onStart:g,onMove:y}=this.handlers;h||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ht(h,this.transformPagePoint),R.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Xt(f.type==="pointercancel"?this.lastMoveEventInfo:Ht(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,g),v&&v(f,g)},!Un(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const r=pt(t),a=Ht(r,this.transformPagePoint),{point:l}=a,{timestamp:c}=_;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,Xt(a,this.history)),this.removeListeners=mt(it(this.contextWindow,"pointermove",this.handlePointerMove),it(this.contextWindow,"pointerup",this.handlePointerUp),it(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Te(this.updatePoint)}}function Ht(e,t){return t?{point:t(e.point)}:e}function zs(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Xt({point:e},t){return{point:e,delta:zs(e,Zr(t)),offset:zs(e,Au(t)),velocity:ju(t,.1)}}function Au(e){return e[0]}function Zr(e){return e[e.length-1]}function ju(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=Zr(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>me(t)));)n--;if(!s)return{x:0,y:0};const o=pe(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const r={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}const Jr=1e-4,Mu=1-Jr,Du=1+Jr,Qr=.01,Vu=0-Qr,Eu=0+Qr;function ee(e){return e.max-e.min}function ku(e,t,n){return Math.abs(e-t)<=n}function _s(e,t,n,s=.5){e.origin=s,e.originPoint=F(t.min,t.max,e.origin),e.scale=ee(n)/ee(t),e.translate=F(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Mu&&e.scale<=Du||isNaN(e.scale))&&(e.scale=1),(e.translate>=Vu&&e.translate<=Eu||isNaN(e.translate))&&(e.translate=0)}function rt(e,t,n,s){_s(e.x,t.x,n.x,s?s.originX:void 0),_s(e.y,t.y,n.y,s?s.originY:void 0)}function Ws(e,t,n){e.min=n.min+t.min,e.max=e.min+ee(t)}function Ru(e,t,n){Ws(e.x,t.x,n.x),Ws(e.y,t.y,n.y)}function $s(e,t,n){e.min=t.min-n.min,e.max=e.min+ee(t)}function ot(e,t,n){$s(e.x,t.x,n.x),$s(e.y,t.y,n.y)}function Lu(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?F(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?F(n,e,s.max):Math.min(e,n)),e}function Ks(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Nu(e,{top:t,left:n,bottom:s,right:i}){return{x:Ks(e.x,n,i),y:Ks(e.y,t,s)}}function Gs(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Fu(e,t){return{x:Gs(e.x,t.x),y:Gs(e.y,t.y)}}function Bu(e,t){let n=.5;const s=ee(e),i=ee(t);return i>s?n=$e(t.min,t.max-s,e.min):s>i&&(n=$e(e.min,e.max-i,t.min)),ye(0,1,n)}function Iu(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const gn=.35;function Ou(e=gn){return e===!1?e=0:e===!0&&(e=gn),{x:Hs(e,"left","right"),y:Hs(e,"top","bottom")}}function Hs(e,t,n){return{min:Xs(e,t),max:Xs(e,n)}}function Xs(e,t){return typeof e=="number"?e:e[t]||0}const qs=()=>({translate:0,scale:1,origin:0,originPoint:0}),ze=()=>({x:qs(),y:qs()}),Ys=()=>({min:0,max:0}),O=()=>({x:Ys(),y:Ys()});function re(e){return[e("x"),e("y")]}function eo({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function Uu({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function zu(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function qt(e){return e===void 0||e===1}function yn({scale:e,scaleX:t,scaleY:n}){return!qt(e)||!qt(t)||!qt(n)}function De(e){return yn(e)||to(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function to(e){return Zs(e.x)||Zs(e.y)}function Zs(e){return e&&e!=="0%"}function Et(e,t,n){const s=e-n,i=t*s;return n+i}function Js(e,t,n,s,i){return i!==void 0&&(e=Et(e,i,s)),Et(e,n,s)+t}function vn(e,t=0,n=1,s,i){e.min=Js(e.min,t,n,s,i),e.max=Js(e.max,t,n,s,i)}function no(e,{x:t,y:n}){vn(e.x,t.translate,t.scale,t.originPoint),vn(e.y,n.translate,n.scale,n.originPoint)}const Qs=.999999999999,ei=1.0000000000001;function _u(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,r;for(let a=0;a<i;a++){o=n[a],r=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&We(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,no(e,r)),s&&De(o.latestValues)&&We(e,o.latestValues))}t.x<ei&&t.x>Qs&&(t.x=1),t.y<ei&&t.y>Qs&&(t.y=1)}function _e(e,t){e.min=e.min+t,e.max=e.max+t}function ti(e,t,n,s,i=.5){const o=F(e.min,e.max,i);vn(e,t,n,o,s)}function We(e,t){ti(e.x,t.x,t.scaleX,t.scale,t.originX),ti(e.y,t.y,t.scaleY,t.scale,t.originY)}function so(e,t){return eo(zu(e.getBoundingClientRect(),t))}function Wu(e,t,n){const s=so(e,n),{scroll:i}=t;return i&&(_e(s.x,i.offset.x),_e(s.y,i.offset.y)),s}const io=({current:e})=>e?e.ownerDocument.defaultView:null,$u=new WeakMap;class Ku{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=O(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pt(u).point)},o=(u,f)=>{const{drag:h,dragPropagation:m,onDragStart:v}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Il(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),re(g=>{let y=this.getAxisMotionValue(g).get()||0;if(ue.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const S=w.layout.layoutBox[g];S&&(y=ee(S)*(parseFloat(y)/100))}}this.originPoint[g]=y}),v&&R.postRender(()=>v(u,f)),ln(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},r=(u,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:v,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:g}=f;if(m&&this.currentDirection===null){this.currentDirection=Gu(g),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),x&&x(u,f)},a=(u,f)=>this.stop(u,f),l=()=>re(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Yr(t,{onSessionStart:i,onStart:o,onMove:r,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:io(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&R.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!xt(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let r=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(r=Lu(r,this.constraints[t],this.elastic[t])),o.set(r)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Oe(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Nu(i.layoutBox,n):this.constraints=!1,this.elastic=Ou(s),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&re(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=Iu(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Oe(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Wu(s,i.root,this.visualElement.getTransformPagePoint());let r=Fu(i.layout.layoutBox,o);if(n){const a=n(Uu(r));this.hasMutatedConstraints=!!a,a&&(r=eo(a))}return r}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=re(u=>{if(!xt(u,n,this.currentDirection))return;let f=l&&l[u]||{};r&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:s?t[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return ln(this.visualElement,t),s.start(Jn(t,s,0,n,this.visualElement,!1))}stopAnimation(){re(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){re(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){re(n=>{const{drag:s}=this.getProps();if(!xt(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:r,max:a}=i.layout.layoutBox[n];o.set(t[n]-F(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Oe(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};re(r=>{const a=this.getAxisMotionValue(r);if(a&&this.constraints!==!1){const l=a.get();i[r]=Bu({min:l,max:l},this.constraints[r])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),re(r=>{if(!xt(r,t,null))return;const a=this.getAxisMotionValue(r),{min:l,max:c}=this.constraints[r];a.set(F(l,c,i[r]))})}addListeners(){if(!this.visualElement.current)return;$u.set(this.visualElement,this);const t=this.visualElement.current,n=it(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();Oe(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),R.read(s);const r=dt(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(re(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{r(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:r=gn,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:r,dragMomentum:a}}}function xt(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Gu(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Hu extends Pe{constructor(t){super(t),this.removeGroupControls=Q,this.removeListeners=Q,this.controls=new Ku(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Q}unmount(){this.removeGroupControls(),this.removeListeners()}}const ni=e=>(t,n)=>{e&&R.postRender(()=>e(t,n))};class Xu extends Pe{constructor(){super(...arguments),this.removePointerDownListener=Q}onPointerDown(t){this.session=new Yr(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:io(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:ni(t),onStart:ni(n),onMove:s,onEnd:(o,r)=>{delete this.session,i&&R.postRender(()=>i(o,r))}}}mount(){this.removePointerDownListener=it(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function si(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Je={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(C.test(e))e=parseFloat(e);else return e;const n=si(e,t.target.x),s=si(e,t.target.y);return`${n}% ${s}%`}},qu={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=be.parse(e);if(i.length>5)return s;const o=be.createTransformer(e),r=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+r]/=a,i[1+r]/=l;const c=F(a,l,.5);return typeof i[2+r]=="number"&&(i[2+r]/=c),typeof i[3+r]=="number"&&(i[3+r]/=c),o(i)}};class Yu extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=t;yl(Zu),o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Tt.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,r=s.projection;return r&&(r.isPresent=o,i||t.layoutDependency!==n||n===void 0?r.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?r.promote():r.relegate()||R.postRender(()=>{const a=r.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),jn.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ro(e){const[t,n]=ka(),s=p.useContext(_i);return d.jsx(Yu,{...e,layoutGroup:s,switchLayoutGroup:p.useContext(qi),isPresent:t,safeToRemove:n})}const Zu={borderRadius:{...Je,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomLeftRadius:Je,borderBottomRightRadius:Je,boxShadow:qu};function Ju(e,t,n){const s=K(e)?e:ct(e);return s.start(Jn("",s,t,n)),s.animation}function Qu(e){return e instanceof SVGElement&&e.tagName!=="svg"}const ed=(e,t)=>e.depth-t.depth;class td{constructor(){this.children=[],this.isDirty=!1}add(t){zn(this.children,t),this.isDirty=!0}remove(t){_n(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ed),this.isDirty=!1,this.children.forEach(t)}}function nd(e,t){const n=de.now(),s=({timestamp:i})=>{const o=i-n;o>=t&&(Te(s),e(o-t))};return R.read(s,!0),()=>Te(s)}const oo=["TopLeft","TopRight","BottomLeft","BottomRight"],sd=oo.length,ii=e=>typeof e=="string"?parseFloat(e):e,ri=e=>typeof e=="number"||C.test(e);function id(e,t,n,s,i,o){i?(e.opacity=F(0,n.opacity!==void 0?n.opacity:1,rd(s)),e.opacityExit=F(t.opacity!==void 0?t.opacity:1,0,od(s))):o&&(e.opacity=F(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let r=0;r<sd;r++){const a=`border${oo[r]}Radius`;let l=oi(t,a),c=oi(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||ri(l)===ri(c)?(e[a]=Math.max(F(ii(l),ii(c),s),0),(ue.test(c)||ue.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=F(t.rotate||0,n.rotate||0,s))}function oi(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const rd=ao(0,.5,Cr),od=ao(.5,.95,Q);function ao(e,t,n){return s=>s<e?0:s>t?1:n($e(e,t,s))}function ai(e,t){e.min=t.min,e.max=t.max}function ie(e,t){ai(e.x,t.x),ai(e.y,t.y)}function li(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ci(e,t,n,s,i){return e-=t,e=Et(e,1/n,s),i!==void 0&&(e=Et(e,1/i,s)),e}function ad(e,t=0,n=1,s=.5,i,o=e,r=e){if(ue.test(t)&&(t=parseFloat(t),t=F(r.min,r.max,t/100)-r.min),typeof t!="number")return;let a=F(o.min,o.max,s);e===o&&(a-=t),e.min=ci(e.min,t,n,a,i),e.max=ci(e.max,t,n,a,i)}function ui(e,t,[n,s,i],o,r){ad(e,t[n],t[s],t[i],t.scale,o,r)}const ld=["x","scaleX","originX"],cd=["y","scaleY","originY"];function di(e,t,n,s){ui(e.x,t,ld,n?n.x:void 0,s?s.x:void 0),ui(e.y,t,cd,n?n.y:void 0,s?s.y:void 0)}function hi(e){return e.translate===0&&e.scale===1}function lo(e){return hi(e.x)&&hi(e.y)}function fi(e,t){return e.min===t.min&&e.max===t.max}function ud(e,t){return fi(e.x,t.x)&&fi(e.y,t.y)}function mi(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function co(e,t){return mi(e.x,t.x)&&mi(e.y,t.y)}function pi(e){return ee(e.x)/ee(e.y)}function gi(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class dd{constructor(){this.members=[]}add(t){zn(this.members,t),t.scheduleRender()}remove(t){if(_n(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hd(e,t,n){let s="";const i=e.x.translate/t.x,o=e.y.translate/t.y,r=(n==null?void 0:n.z)||0;if((i||o||r)&&(s=`translate3d(${i}px, ${o}px, ${r}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:m,skewY:v}=n;c&&(s=`perspective(${c}px) ${s}`),u&&(s+=`rotate(${u}deg) `),f&&(s+=`rotateX(${f}deg) `),h&&(s+=`rotateY(${h}deg) `),m&&(s+=`skewX(${m}deg) `),v&&(s+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(s+=`scale(${a}, ${l})`),s||"none"}const Ve={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},nt=typeof window<"u"&&window.MotionDebug!==void 0,Yt=["","X","Y","Z"],fd={visibility:"hidden"},yi=1e3;let md=0;function Zt(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function uo(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=vr(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",R,!(i||o))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&uo(s)}function ho({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(r={},a=t==null?void 0:t()){this.id=md++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,nt&&(Ve.totalNodes=Ve.resolvedTargetDeltas=Ve.recalculatedProjection=0),this.nodes.forEach(yd),this.nodes.forEach(Td),this.nodes.forEach(bd),this.nodes.forEach(vd),nt&&window.MotionDebug.record(Ve)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new td)}addEventListener(r,a){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new Wn),this.eventHandlers.get(r).add(a)}notifyListeners(r,...a){const l=this.eventHandlers.get(r);l&&l.notify(...a)}hasListeners(r){return this.eventHandlers.has(r)}mount(r,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Qu(r),this.instance=r;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(r,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=nd(h,250),Tt.hasAnimatedSinceResize&&(Tt.hasAnimatedSinceResize=!1,this.nodes.forEach(xi))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||Md,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=u.getProps(),w=!this.targetLayout||!co(this.targetLayout,v)||m,S=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,S);const b={...Bn(x,"layout"),onPlay:g,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||xi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Te(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pd),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uo(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vi);return}this.isUpdating||this.nodes.forEach(wd),this.isUpdating=!1,this.nodes.forEach(Sd),this.nodes.forEach(pd),this.nodes.forEach(gd),this.clearAllSnapshots();const a=de.now();_.delta=ye(0,1e3/60,a-_.timestamp),_.timestamp=a,_.isProcessing=!0,zt.update.process(_),zt.preRender.process(_),zt.render.process(_),_.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jn.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xd),this.sharedNodes.forEach(Cd)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,R.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){R.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=O(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(a=!1),a){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!lo(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;r&&(a||De(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return r&&(l=this.removeTransform(l)),Dd(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var r;const{visualElement:a}=this.options;if(!a)return O();const l=a.measureViewportBox();if(!(((r=this.scroll)===null||r===void 0?void 0:r.wasRoot)||this.path.some(Vd))){const{scroll:u}=this.root;u&&(_e(l.x,u.offset.x),_e(l.y,u.offset.y))}return l}removeElementScroll(r){var a;const l=O();if(ie(l,r),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ie(l,r),_e(l.x,f.offset.x),_e(l.y,f.offset.y))}return l}applyTransform(r,a=!1){const l=O();ie(l,r);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&We(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),De(u.latestValues)&&We(l,u.latestValues)}return De(this.latestValues)&&We(l,this.latestValues),l}removeTransform(r){const a=O();ie(a,r);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!De(c.latestValues))continue;yn(c.latestValues)&&c.updateSnapshot();const u=O(),f=c.measurePageBox();ie(u,f),di(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return De(this.latestValues)&&di(a,this.latestValues),a}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(r||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=_.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=O(),this.relativeTargetOrigin=O(),ot(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ie(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=O(),this.targetWithTransforms=O()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ru(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ie(this.target,this.layout.layoutBox),no(this.target,this.targetDelta)):ie(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=O(),this.relativeTargetOrigin=O(),ot(this.relativeTargetOrigin,this.target,m.target),ie(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}nt&&Ve.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||yn(this.parent.latestValues)||to(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var r;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((r=this.parent)===null||r===void 0)&&r.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===_.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;ie(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;_u(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=O());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(li(this.prevProjectionDelta.x,this.projectionDelta.x),li(this.prevProjectionDelta.y,this.projectionDelta.y)),rt(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!gi(this.projectionDelta.x,this.prevProjectionDelta.x)||!gi(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),nt&&Ve.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),r){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ze(),this.projectionDelta=ze(),this.projectionDeltaWithTransform=ze()}setAnimationOrigin(r,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=ze();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=O(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=m!==v,g=this.getStack(),y=!g||g.members.length<=1,w=!!(x&&!y&&this.options.crossfade===!0&&!this.path.some(jd));this.animationProgress=0;let S;this.mixTargetDelta=b=>{const T=b/1e3;wi(f.x,r.x,T),wi(f.y,r.y,T),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ot(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ad(this.relativeTarget,this.relativeTargetOrigin,h,T),S&&ud(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=O()),ie(S,this.relativeTarget)),x&&(this.animationValues=u,id(u,c,this.latestValues,T,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Te(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=R.update(()=>{Tt.hasAnimatedSinceResize=!0,this.currentAnimation=Ju(0,yi,{...r,onUpdate:a=>{this.mixTargetDelta(a),r.onUpdate&&r.onUpdate(a)},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yi),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=r;if(!(!a||!l||!c)){if(this!==r&&this.layout&&c&&fo(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||O();const f=ee(this.layout.layoutBox.x);l.x.min=r.target.x.min,l.x.max=l.x.min+f;const h=ee(this.layout.layoutBox.y);l.y.min=r.target.y.min,l.y.max=l.y.min+h}ie(a,l),We(a,u),rt(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(r,a){this.sharedNodes.has(r)||this.sharedNodes.set(r,new dd),this.sharedNodes.get(r).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var r;const{layoutId:a}=this.options;return a?((r=this.getStack())===null||r===void 0?void 0:r.lead)||this:this}getPrevLead(){var r;const{layoutId:a}=this.options;return a?(r=this.getStack())===null||r===void 0?void 0:r.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),r&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let a=!1;const{latestValues:l}=r;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Zt("z",r,c,this.animationValues);for(let u=0;u<Yt.length;u++)Zt(`rotate${Yt[u]}`,r,c,this.animationValues),Zt(`skew${Yt[u]}`,r,c,this.animationValues);r.render();for(const u in c)r.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);r.scheduleRender()}getProjectionStyles(r){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return fd;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=wt(r==null?void 0:r.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=wt(r==null?void 0:r.pointerEvents)||""),this.hasProjected&&!De(this.latestValues)&&(x.transform=u?u({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=hd(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in At){if(h[x]===void 0)continue;const{correct:g,applyTo:y}=At[x],w=c.transform==="none"?h[x]:g(h[x],f);if(y){const S=y.length;for(let b=0;b<S;b++)c[y[b]]=w}else c[x]=w}return this.options.layoutId&&(c.pointerEvents=f===this?wt(r==null?void 0:r.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var a;return(a=r.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(vi),this.root.sharedNodes.clear()}}}function pd(e){e.updateLayout()}function gd(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:o}=e.options,r=n.source!==e.layout.source;o==="size"?re(f=>{const h=r?n.measuredBox[f]:n.layoutBox[f],m=ee(h);h.min=s[f].min,h.max=h.min+m}):fo(o,n.layoutBox,s)&&re(f=>{const h=r?n.measuredBox[f]:n.layoutBox[f],m=ee(s[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=ze();rt(a,s,n.layoutBox);const l=ze();r?rt(l,e.applyTransform(i,!0),n.measuredBox):rt(l,s,n.layoutBox);const c=!lo(a);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const v=O();ot(v,n.layoutBox,h.layoutBox);const x=O();ot(x,s,m.layoutBox),co(v,x)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function yd(e){nt&&Ve.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function vd(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function xd(e){e.clearSnapshot()}function vi(e){e.clearMeasurements()}function wd(e){e.isLayoutDirty=!1}function Sd(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function xi(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Td(e){e.resolveTargetDelta()}function bd(e){e.calcProjection()}function Pd(e){e.resetSkewAndRotation()}function Cd(e){e.removeLeadSnapshot()}function wi(e,t,n){e.translate=F(t.translate,0,n),e.scale=F(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Si(e,t,n,s){e.min=F(t.min,n.min,s),e.max=F(t.max,n.max,s)}function Ad(e,t,n,s){Si(e.x,t.x,n.x,s),Si(e.y,t.y,n.y,s)}function jd(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Md={duration:.45,ease:[.4,0,.1,1]},Ti=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),bi=Ti("applewebkit/")&&!Ti("chrome/")?Math.round:Q;function Pi(e){e.min=bi(e.min),e.max=bi(e.max)}function Dd(e){Pi(e.x),Pi(e.y)}function fo(e,t,n){return e==="position"||e==="preserve-aspect"&&!ku(pi(t),pi(n),.2)}function Vd(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Ed=ho({attachResizeListener:(e,t)=>dt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jt={current:void 0},mo=ho({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Jt.current){const e=new Ed({});e.mount(window),e.setOptions({layoutScroll:!0}),Jt.current=e}return Jt.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),kd={pan:{Feature:Xu},drag:{Feature:Hu,ProjectionNode:mo,MeasureLayout:ro}};function Ci(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=s[i];o&&R.postRender(()=>o(t,pt(t)))}class Rd extends Pe{mount(){const{current:t}=this.node;t&&(this.unmount=Rl(t,n=>(Ci(this.node,n,"Start"),s=>Ci(this.node,s,"End"))))}unmount(){}}class Ld extends Pe{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mt(dt(this.node.current,"focus",()=>this.onFocus()),dt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ai(e,t,n){const{props:s}=e;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=s[i];o&&R.postRender(()=>o(t,pt(t)))}class Nd extends Pe{mount(){const{current:t}=this.node;t&&(this.unmount=Bl(t,n=>(Ai(this.node,n,"Start"),(s,{success:i})=>Ai(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xn=new WeakMap,Qt=new WeakMap,Fd=e=>{const t=xn.get(e.target);t&&t(e)},Bd=e=>{e.forEach(Fd)};function Id({root:e,...t}){const n=e||document;Qt.has(n)||Qt.set(n,{});const s=Qt.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(Bd,{root:e,...t})),s[i]}function Od(e,t,n){const s=Id(t);return xn.set(e,n),s.observe(e),()=>{xn.delete(e),s.unobserve(e)}}const Ud={some:0,all:1};class zd extends Pe{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=t,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Ud[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return Od(this.node.current,r,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(_d(t,n))&&this.startObserver()}unmount(){}}function _d({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Wd={inView:{Feature:zd},tap:{Feature:Nd},focus:{Feature:Ld},hover:{Feature:Rd}},$d={layout:{ProjectionNode:mo,MeasureLayout:ro}},wn={current:null},po={current:!1};function Kd(){if(po.current=!0,!!Tn)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wn.current=e.matches;e.addListener(t),t()}else wn.current=!1}const Gd=[...Or,$,be],Hd=e=>Gd.find(Ir(e)),ji=new WeakMap;function Xd(e,t,n){for(const s in t){const i=t[s],o=n[s];if(K(i))e.addValue(s,i);else if(K(o))e.addValue(s,ct(i,{owner:e}));else if(o!==i)if(e.hasValue(s)){const r=e.getValue(s);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=e.getStaticValue(s);e.addValue(s,ct(r!==void 0?r:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Mi=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qd{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:o,visualState:r},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=de.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,R.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:u}=r;this.onUpdate=u,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=Nt(n),this.isVariantNode=Hi(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const v=h[m];l[m]!==void 0&&K(v)&&v.set(l[m],!1)}}mount(t){this.current=t,ji.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),po.current||Kd(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wn.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ji.delete(this.current),this.projection&&this.projection.unmount(),Te(this.notifyUpdate),Te(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Fe.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&R.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ke){const n=Ke[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):O()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Mi.length;s++){const i=Mi[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,r=t[o];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=Xd(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ct(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){var s;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Fr(i)||jr(i))?i=parseFloat(i):!Hd(i)&&be.test(n)&&(i=Rr(t,n)),this.setBaseTarget(t,K(i)?i.get():i)),K(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const r=Dn(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);r&&(i=r[t])}if(s&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!K(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Wn),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class go extends qd{constructor(){super(...arguments),this.KeyframeResolver=Ur}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;K(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Yd(e){return window.getComputedStyle(e)}class Zd extends go{constructor(){super(...arguments),this.type="html",this.renderInstance=nr}readValueFromInstance(t,n){if(Fe.has(n)){const s=Xn(n);return s&&s.default||0}else{const s=Yd(t),i=(Qi(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return so(t,n)}build(t,n,s){kn(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Fn(t,n,s)}}class Jd extends go{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=O}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Fe.has(n)){const s=Xn(n);return s&&s.default||0}return n=sr.has(n)?n:An(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return or(t,n,s)}build(t,n,s){Rn(t,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,s,i){ir(t,n,s,i)}mount(t){this.isSVGTag=Nn(t.tagName),super.mount(t)}}const Qd=(e,t)=>Mn(e)?new Jd(t):new Zd(t,{allowProjection:e!==p.Fragment}),eh=Al({...bu,...Wd,...kd,...$d},Qd),th=za(eh),nh=()=>{const e=[{musician:"에픽하이 (EPIK HIGH)",title:"우산 (Feat. 윤하)"},{musician:"페퍼톤스(PEPPERTONES)",title:"우산"},{musician:"NCT 127",title:"우산"},{musician:"비",title:"It's Raining"},{musician:"폴킴",title:"비"},{musician:"이클립스(ECLIPSE)",title:"소나기"},{musician:"헤이즈 (Heize)",title:"비도 오고 그래서 (Feat. 신용재)"},{musician:"럼블 피쉬",title:"비와 당신"},{musician:"비스트(Beast)",title:"비가 오는 날"},{musician:"김태우",title:"사랑비"},{musician:"에픽하이 (EPIK HIGH)",title:"비 오는 날 듣기 좋은 노래"},{musician:"김건모",title:"잠 못 드는 밤 비는 내리고"},{musician:"윤하",title:"비가 내리는 날에는"},{musician:"정인",title:"장마"},{musician:"김현식",title:"비처럼 음악처럼"},{musician:"아이오아이 (I.O.I)",title:"소나기"},{musician:"윤하",title:"소나기"},{musician:"부활",title:"소나기"},{musician:"에릭남(Eric Nam)",title:"소나기"},{musician:"이승철",title:"비가 와"},{musician:"장범준",title:"추적이는 여름 비가 되어"},{musician:"버스커 버스커",title:"소나기 (주르르루)"},{musician:"토이, 윤하",title:"오늘 서울은 하루종일 맑음 (Vocal 윤하)"},{musician:"폴킴",title:"모든 날, 모든 순간 (Every day, Every Moment)"},{musician:"아이유(IU)",title:"좋은 날"},{musician:"AKMU(악뮤)",title:"오랜 날 오랜 밤"},{musician:"김완선",title:"기분 좋은 날"},{musician:"러브홀릭스",title:"Raining (Feat. 크리스티나 of Clazziquai)"},{musician:"방탄소년단",title:"Rain"},{musician:"San E(산이), 로코베리",title:"오늘 날씨 맑음"},{musician:"KCM",title:"오늘도 맑음"},{musician:"디아(Dia)",title:"하루 종일 비가 내렸어"}];let t=e.length,n,s;for(;t>0;)n=Math.floor(Math.random()*t),t-=1,s=e[t],e[t]=e[n],e[n]=s;const i=[...e,...e];return d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"relative w-1/2 overflow-hidden p-5",children:d.jsx(th.div,{className:"flex",animate:{x:["0%",`-${(e.length-1)*100}%`],transition:{ease:"linear",duration:300,repeat:1/0}},children:i.map((o,r)=>d.jsxs("span",{className:"flex flex-shrink-0 px-5 text-xl",children:[o.title," - ",o.musician]},r))})})})};var sh=Object.defineProperty,ih=Object.defineProperties,rh=Object.getOwnPropertyDescriptors,kt=Object.getOwnPropertySymbols,yo=Object.prototype.hasOwnProperty,vo=Object.prototype.propertyIsEnumerable,Di=(e,t,n)=>t in e?sh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oh=(e,t)=>{for(var n in t||(t={}))yo.call(t,n)&&Di(e,n,t[n]);if(kt)for(var n of kt(t))vo.call(t,n)&&Di(e,n,t[n]);return e},ah=(e,t)=>ih(e,rh(t)),lh=(e,t)=>{var n={};for(var s in e)yo.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&kt)for(var s of kt(e))t.indexOf(s)<0&&vo.call(e,s)&&(n[s]=e[s]);return n};function ch(e){let t=setTimeout(e,0),n=setTimeout(e,10),s=setTimeout(e,50);return[t,n,s]}function uh(e){let t=p.useRef();return p.useEffect(()=>{t.current=e}),t.current}var dh=18,xo=40,hh=`${xo}px`,fh=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function mh({containerRef:e,inputRef:t,pushPasswordManagerStrategy:n,isFocused:s}){let[i,o]=p.useState(!1),[r,a]=p.useState(!1),[l,c]=p.useState(!1),u=p.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&i&&r,[i,r,n]),f=p.useCallback(()=>{let h=e.current,m=t.current;if(!h||!m||l||n==="none")return;let v=h,x=v.getBoundingClientRect().left+v.offsetWidth,g=v.getBoundingClientRect().top+v.offsetHeight/2,y=x-dh,w=g;document.querySelectorAll(fh).length===0&&document.elementFromPoint(y,w)===h||(o(!0),c(!0))},[e,t,l,n]);return p.useEffect(()=>{let h=e.current;if(!h||n==="none")return;function m(){let x=window.innerWidth-h.getBoundingClientRect().right;a(x>=xo)}m();let v=setInterval(m,1e3);return()=>{clearInterval(v)}},[e,n]),p.useEffect(()=>{let h=s||document.activeElement===t.current;if(n==="none"||!h)return;let m=setTimeout(f,0),v=setTimeout(f,2e3),x=setTimeout(f,5e3),g=setTimeout(()=>{c(!0)},6e3);return()=>{clearTimeout(m),clearTimeout(v),clearTimeout(x),clearTimeout(g)}},[t,s,n,f]),{hasPWMBadge:i,willPushPWMBadge:u,PWM_BADGE_SPACE_WIDTH:hh}}var wo=p.createContext({}),So=p.forwardRef((e,t)=>{var n=e,{value:s,onChange:i,maxLength:o,textAlign:r="left",pattern:a,placeholder:l,inputMode:c="numeric",onComplete:u,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:h,containerClassName:m,noScriptCSSFallback:v=ph,render:x,children:g}=n,y=lh(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),w,S,b,T,D;let[E,P]=p.useState(typeof y.defaultValue=="string"?y.defaultValue:""),A=s??E,k=uh(A),z=p.useCallback(j=>{i==null||i(j),P(j)},[i]),I=p.useMemo(()=>a?typeof a=="string"?new RegExp(a):a:null,[a]),V=p.useRef(null),X=p.useRef(null),te=p.useRef({value:A,onChange:z,isIOS:typeof window<"u"&&((S=(w=window==null?void 0:window.CSS)==null?void 0:w.supports)==null?void 0:S.call(w,"-webkit-touch-callout","none"))}),oe=p.useRef({prev:[(b=V.current)==null?void 0:b.selectionStart,(T=V.current)==null?void 0:T.selectionEnd,(D=V.current)==null?void 0:D.selectionDirection]});p.useImperativeHandle(t,()=>V.current,[]),p.useEffect(()=>{let j=V.current,M=X.current;if(!j||!M)return;te.current.value!==j.value&&te.current.onChange(j.value),oe.current.prev=[j.selectionStart,j.selectionEnd,j.selectionDirection];function G(){if(document.activeElement!==j){Ye(null),Ze(null);return}let N=j.selectionStart,Z=j.selectionEnd,gt=j.selectionDirection,le=j.maxLength,Ce=j.value,he=oe.current.prev,ve=-1,xe=-1,Ae;if(Ce.length!==0&&N!==null&&Z!==null){let Mo=N===Z,Do=N===Ce.length&&Ce.length<le;if(Mo&&!Do){let je=N;if(je===0)ve=0,xe=1,Ae="forward";else if(je===le)ve=je-1,xe=je,Ae="backward";else if(le>1&&Ce.length>1){let Ot=0;if(he[0]!==null&&he[1]!==null){Ae=je<he[1]?"backward":"forward";let Vo=he[0]===he[1]&&he[0]<le;Ae==="backward"&&!Vo&&(Ot=-1)}ve=Ot+je,xe=Ot+je+1}}ve!==-1&&xe!==-1&&ve!==xe&&V.current.setSelectionRange(ve,xe,Ae)}let ss=ve!==-1?ve:N,is=xe!==-1?xe:Z,jo=Ae??gt;Ye(ss),Ze(is),oe.current.prev=[ss,is,jo]}if(document.addEventListener("selectionchange",G,{capture:!0}),G(),document.activeElement===j&&ae(!0),!document.getElementById("input-otp-style")){let N=document.createElement("style");if(N.id="input-otp-style",document.head.appendChild(N),N.sheet){let Z="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Qe(N.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Qe(N.sheet,`[data-input-otp]:autofill { ${Z} }`),Qe(N.sheet,`[data-input-otp]:-webkit-autofill { ${Z} }`),Qe(N.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Qe(N.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let ne=()=>{M&&M.style.setProperty("--root-height",`${j.clientHeight}px`)};ne();let se=new ResizeObserver(ne);return se.observe(j),()=>{document.removeEventListener("selectionchange",G,{capture:!0}),se.disconnect()}},[]);let[L,W]=p.useState(!1),[q,ae]=p.useState(!1),[Y,Ye]=p.useState(null),[Be,Ze]=p.useState(null);p.useEffect(()=>{ch(()=>{var j,M,G,ne;(j=V.current)==null||j.dispatchEvent(new Event("input"));let se=(M=V.current)==null?void 0:M.selectionStart,N=(G=V.current)==null?void 0:G.selectionEnd,Z=(ne=V.current)==null?void 0:ne.selectionDirection;se!==null&&N!==null&&(Ye(se),Ze(N),oe.current.prev=[se,N,Z])})},[A,q]),p.useEffect(()=>{k!==void 0&&A!==k&&k.length<o&&A.length===o&&(u==null||u(A))},[o,u,k,A]);let Ie=mh({containerRef:X,inputRef:V,pushPasswordManagerStrategy:f,isFocused:q}),Qn=p.useCallback(j=>{let M=j.currentTarget.value.slice(0,o);if(M.length>0&&I&&!I.test(M)){j.preventDefault();return}typeof k=="string"&&M.length<k.length&&document.dispatchEvent(new Event("selectionchange")),z(M)},[o,z,k,I]),es=p.useCallback(()=>{var j;if(V.current){let M=Math.min(V.current.value.length,o-1),G=V.current.value.length;(j=V.current)==null||j.setSelectionRange(M,G),Ye(M),Ze(G)}ae(!0)},[o]),ts=p.useCallback(j=>{var M,G;let ne=V.current;if(!h&&(!te.current.isIOS||!j.clipboardData||!ne))return;let se=j.clipboardData.getData("text/plain"),N=h?h(se):se;j.preventDefault();let Z=(M=V.current)==null?void 0:M.selectionStart,gt=(G=V.current)==null?void 0:G.selectionEnd,le=(Z!==gt?A.slice(0,Z)+N+A.slice(gt):A.slice(0,Z)+N+A.slice(Z)).slice(0,o);if(le.length>0&&I&&!I.test(le))return;ne.value=le,z(le);let Ce=Math.min(le.length,o-1),he=le.length;ne.setSelectionRange(Ce,he),Ye(Ce),Ze(he)},[o,z,I,A]),Po=p.useMemo(()=>({position:"relative",cursor:y.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[y.disabled]),ns=p.useMemo(()=>({position:"absolute",inset:0,width:Ie.willPushPWMBadge?`calc(100% + ${Ie.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:Ie.willPushPWMBadge?`inset(0 ${Ie.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:r,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[Ie.PWM_BADGE_SPACE_WIDTH,Ie.willPushPWMBadge,r]),Co=p.useMemo(()=>p.createElement("input",ah(oh({autoComplete:y.autoComplete||"one-time-code"},y),{"data-input-otp":!0,"data-input-otp-placeholder-shown":A.length===0||void 0,"data-input-otp-mss":Y,"data-input-otp-mse":Be,inputMode:c,pattern:I==null?void 0:I.source,"aria-placeholder":l,style:ns,maxLength:o,value:A,ref:V,onPaste:j=>{var M;ts(j),(M=y.onPaste)==null||M.call(y,j)},onChange:Qn,onMouseOver:j=>{var M;W(!0),(M=y.onMouseOver)==null||M.call(y,j)},onMouseLeave:j=>{var M;W(!1),(M=y.onMouseLeave)==null||M.call(y,j)},onFocus:j=>{var M;es(),(M=y.onFocus)==null||M.call(y,j)},onBlur:j=>{var M;ae(!1),(M=y.onBlur)==null||M.call(y,j)}})),[Qn,es,ts,c,ns,o,Be,Y,y,I==null?void 0:I.source,A]),It=p.useMemo(()=>({slots:Array.from({length:o}).map((j,M)=>{var G;let ne=q&&Y!==null&&Be!==null&&(Y===Be&&M===Y||M>=Y&&M<Be),se=A[M]!==void 0?A[M]:null,N=A[0]!==void 0?null:(G=l==null?void 0:l[M])!=null?G:null;return{char:se,placeholderChar:N,isActive:ne,hasFakeCaret:ne&&se===null}}),isFocused:q,isHovering:!y.disabled&&L}),[q,L,o,Be,Y,y.disabled,A]),Ao=p.useMemo(()=>x?x(It):p.createElement(wo.Provider,{value:It},g),[g,It,x]);return p.createElement(p.Fragment,null,v!==null&&p.createElement("noscript",null,p.createElement("style",null,v)),p.createElement("div",{ref:X,"data-input-otp-container":!0,style:Po,className:m},Ao,p.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Co)))});So.displayName="Input";function Qe(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var ph=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`,gh="^\\d+$";const To=p.forwardRef(({className:e,containerClassName:t,...n},s)=>d.jsx(So,{ref:s,containerClassName:Pt("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:Pt("disabled:cursor-not-allowed",e),...n}));To.displayName="InputOTP";const bo=p.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:Pt("flex items-center",e),...t}));bo.displayName="InputOTPGroup";const Ee=p.forwardRef(({index:e,className:t,...n},s)=>{const i=p.useContext(wo),{char:o,hasFakeCaret:r,isActive:a}=i.slots[e];return d.jsxs("div",{ref:s,className:Pt("relative flex h-10 w-10 items-center justify-center border-y border-r border-neutral-200 text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md dark:border-neutral-800",a&&"z-10 ring-2 ring-neutral-950 ring-offset-white dark:ring-neutral-300 dark:ring-offset-neutral-950",t),...n,children:[o,r&&d.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:d.jsx("div",{className:"h-4 w-px animate-caret-blink bg-neutral-950 duration-1000 dark:bg-neutral-50"})})]})});Ee.displayName="InputOTPSlot";const yh=p.forwardRef(({...e},t)=>d.jsx("div",{ref:t,role:"separator",...e,children:d.jsx(wa,{})}));yh.displayName="InputOTPSeparator";function vh({userObj:e}){const[t,n]=p.useState("");p.useState(""),p.useState(!1),He();const s=i=>{const{target:{value:o}}=i;n(o)};return d.jsx("div",{children:d.jsx(To,{maxLength:6,pattern:gh,onChange:s,children:d.jsxs(bo,{children:[d.jsx(Ee,{index:0}),d.jsx(Ee,{index:1}),d.jsx(Ee,{index:2}),d.jsx(Ee,{index:3}),d.jsx(Ee,{index:4}),d.jsx(Ee,{index:5})]})})})}function xh({userObj:e}){const[t,n]=p.useState(""),[s,i]=p.useState(!1),[o,r]=p.useState(""),a=U(h=>h.languages.value),l=He(),c=h=>{const{target:{value:m}}=h;n(m)},u=async()=>{let h=Math.floor(Math.random()*1e6).toString();for(let m=0;6-h.length;m++)h="0"+h;r(h),i(!0),await fetch("https://service-ceni.onrender.com/mail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e==null?void 0:e.email,author:h})}),console.log("sending")},f=async()=>{if(t===o){const h=J(H,`members/${e.uid}`);await Ne(h,{certificated:!0}),l($o(!0))}else alert("번호를 확인해주세요.")};return d.jsx("div",{children:e?d.jsxs("div",{children:[d.jsx(tn,{title:a==="ko"?"메일 확인":"Confirming mail"}),d.jsxs("div",{className:"flex flex-col gap-5 items-center",children:[s?d.jsxs("div",{children:[e.email,"로 메일을 보냈어요. 번호를 입력해주세요."]}):d.jsxs("div",{children:[e.email,"로 확인 메일을 보낼게요. 번호를 확인해주세요."]}),d.jsxs("div",{className:"flex gap-5",children:[s&&d.jsx(bt,{label:"numbers",value:t,onChange:c}),s&&d.jsx(vh,{userObj:e}),t.length===6&&d.jsx(Se,{onClick:f,children:"완료"})]}),d.jsx(Se,{onClick:u,children:s?"메일 다시 받기":"메일 받기"})]})]}):d.jsxs("div",{children:[d.jsx(tn,{title:a==="ko"?"로그인":"Sign in"}),d.jsx("div",{className:"flex justify-center p-5",children:a==="ko"?"반갑습니다. 캠퍼스 우산 공유 서비스 쿠우산입니다.":"Welcome. This is usan sharing service khusan"}),d.jsx(zi,{signIn:!0}),d.jsx(ba,{}),d.jsx("div",{className:"flex justify-center pt-5 px-5",children:a==="ko"?"날씨 플레이리스트도 준비되어 있어요.":"Weather playlist is also available for you."}),d.jsx(nh,{})]})})}function wh(e){const{isOver:t,over:n,setNodeRef:s}=Ko({id:"droppable"});return d.jsx("div",{ref:s,className:t?"text-profile-red":void 0,children:e.children})}const Sh=()=>d.jsx(wh,{children:d.jsx("div",{className:"px-10",children:d.jsx("div",{className:"flex justify-center rounded bg-light-2 dark:bg-dark-2 p-5",children:d.jsx(xa,{})})})}),Th=e=>{console.log(e);const t=document.getElementById(e);t==null||t.classList.add("transition"),t==null||t.addEventListener("transitionend",()=>{t==null||t.remove()})},bh=({userObj:e,messages:t,longPressCard:n,changeLongPressCard:s})=>{const[i,o]=p.useState(!0),r=()=>o(!0),a=()=>o(!1);return p.useEffect(()=>{i||setTimeout(()=>r(),250)}),d.jsxs("div",{id:"items",className:"grid grid-cols-[repeat(auto-fit,minmax(180px,1fr))] col-span-full",children:[!t.length&&d.jsx(Ui,{className:"w-full h-[276px] rounded bg-light-2"}),t.map(l=>{const c=l.creatorId===e.uid;if(l.round!==5&&(l.creatorId===e.uid||l.connectedId===e.uid&&l.round!==1))return d.jsx("div",{id:l.id,className:"item-list flex justify-center",children:d.jsx("div",{children:d.jsx(Go,{message:l,isOwner:c,userObj:e,num:null,points:null,longPressCard:n,changeLongPressCard:s,deleteMessage:Th,delayed:i,delayedFalse:a})})},l.id)})]})},Ph=e=>{console.log(e);const t=document.getElementById(e);t==null||t.classList.add("transition"),t==null||t.addEventListener("transitionend",()=>{t==null||t.remove()})},Ch=async({id:e,userObj:t,changeLongPressCard:n})=>{var l;const i=J(H,`num/${e}`).id;await Xo(J(H,`num/${e}`));const o=J(H,`members/${t.uid}`),a=(l=(await Re(o)).data())==null?void 0:l.createdCards.filter(c=>c!==e);console.log(a),Ne(o,{createdCards:a}),Ph(i),n(null)},Ah=({userObj:e,messages:t})=>{const[n,s]=p.useState(""),i=o=>s(o);return d.jsxs(Ho,{onDragEnd:o=>{if(o.over){const r=o.active.id.toString();Ch({id:r,userObj:e,changeLongPressCard:i})}},children:[n&&d.jsx(Sh,{}),d.jsx(bh,{userObj:e,messages:t,longPressCard:n,changeLongPressCard:i})]})},jh={ko:"진행 카드가 없습니다",en:"No cards"},Mh=()=>{const e=U(n=>n.languages.value),t=e==="ko"||e==="en"?e:"ko";return d.jsx("div",{className:"flex items-center flex-col",children:d.jsx("div",{className:"flex justify-center rounded w-1/2 p-5 bg-light-2 dark:bg-dark-2 shadow-md",children:jh[t]})})},Dh=e=>{const[t,n]=p.useState([]),[s,i]=p.useState(!1);return p.useEffect(()=>{(async()=>{const r=[],a=J(H,`members/${e.uid}`),c=(await Re(a)).data(),u=(c==null?void 0:c.createdCards)||[],f=(c==null?void 0:c.connectedCards)||[];console.log(u),await Promise.all(u.map(async h=>{const m=J(H,`num/${h}`),v=await Re(m),x=v.data(),g={id:v.id,...x};x&&r.push(g)})),await Promise.all(f.map(async h=>{const m=J(H,`num/${h}`),v=await Re(m),x=v.data(),g={id:v.id,...x};x&&r.push(g)})),console.log(r),n(r),i(!0),console.log(t)})()},[]),{messages:t,handleMessages:o=>n(o),cardLoaded:s}};function Vh({userObj:e}){const{messages:t,cardLoaded:n}=Dh(e);return console.log(t),d.jsxs("div",{children:[!n&&!t.length&&d.jsx(Ui,{className:"w-full h-[260px] rounded bg-light-3 dark:bg-dark-3"}),n&&d.jsx("div",{children:t.filter(s=>{if(s.round!==5)return s}).length?d.jsx(Ah,{userObj:e,messages:t}):d.jsx(Mh,{})})]})}const Eh=({userObj:e,message:t})=>{const n=U(s=>s.languages.value);return d.jsxs("div",{children:[(t==null?void 0:t.piazzaChecked)&&(t==null?void 0:t.piazzaChecked.indexOf(e.uid))===-1&&d.jsx(cs,{sx:{height:"20px"},label:`${n==="ko"?"새 대화":"New Chats"}`,color:"primary"}),(t==null?void 0:t.messageCount)>0&&d.jsx(cs,{sx:{height:"20px"},label:t.messageCount,color:"primary"})]})},kh=({message:e})=>{const t=U(l=>l.languages.value),n=new Date(e==null?void 0:e.messageClock);let s,i=n.getHours(),o=(n.getMonth()+1).toString(),r=n.getDate().toString();i>=13?(s="오후",i!==12&&(i=i-12)):(s="오전",i===0&&(i=i+12)),n.getMonth()+1<10&&(o="0"+o),r.length===1&&(r="0"+r);const a=n.getFullYear().toString()+"-"+o+"-"+r+" "+(t==="ko"?s:"")+" "+i+":"+(n.getMinutes()<10?"0":"")+n.getMinutes()+(t==="en"?s==="오전"?"am":"pm":"");return d.jsx(d.Fragment,{children:a[0]!=="N"&&d.jsx("div",{className:"flex flex-col px-3",children:d.jsx("div",{className:"truncate flex justify-end",children:a})})})},Rh=({displayName:e,multiple:t})=>{const n=U(i=>i.languages.value);let s;return e.length>6?s=e.slice(0,6)+"......":s=e,d.jsx("div",{className:"truncate w-1/2 px-3 overflow-hidden",children:t?`${n==="ko"?"단체 대화":"Group Messaging"}`:s})},Vi=({chattingUid:e,userObj:t,displayName:n,multiple:s,clock:i,message:o})=>{const r=U(g=>g.languages.value);let a,l=i.getHours(),c=(i.getMonth()+1).toString(),u=i.getDate().toString();l>=13?(a="오후",l!==12&&(l=l-12)):(a="오전",l===0&&(l=l+12)),i.getMonth()+1<10&&(c="0"+c),u.length===1&&(u="0"+u);const f=i.getFullYear().toString()+"-"+c+"-"+u+" "+(r==="ko"?a:"")+" "+l+":"+(i.getMinutes()<10?"0":"")+i.getMinutes()+(r==="en"?a==="오전"?"am":"pm":"");let h,m,v,x;return s||(t.uid!==o.userOne?(h=o.userOneProfileImage,m=o.userOneProfileUrl,v=o.userOneDefaultProfile?o.userOneDefaultProfile:o.userOneProfileUrl):(h=o.userTwoProfileImage,m=o.userTwoProfileUrl,v=o.userTwoDefaultProfile?o.userTwoDefaultProfile:o.userTwoProfileUrl),x={profileImage:h,profileImageUrl:m,defaultProfile:v}),d.jsx("div",{children:f[0]!=="N"&&d.jsxs("div",{className:"flex p-3",children:[s?d.jsx(qo,{children:d.jsx(Yo,{src:Zo})}):d.jsx(Jo,{element:x,uid:e,profile:!1,profileColor:"",profileUrl:o}),d.jsxs("div",{className:"flex flex-col w-screen",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx(Rh,{displayName:n,multiple:s}),d.jsx(kh,{message:o})]}),d.jsxs("div",{className:"flex justify-between px-3",children:[d.jsx("div",{children:o==null?void 0:o.message}),d.jsx(Eh,{userObj:t,message:o})]})]})]})})},Lh=({userObj:e,conversation:t,changeLongPressChat:n,changeChattings:s})=>{const i=He(),o=async({conversation:r})=>{var f,h;n(null);const a=J(H,`members/${e.uid}`),l=await Re(a),c=((f=l.data())==null?void 0:f.chattings)||{},u=((h=l.data())==null?void 0:h.conversation)||[];Reflect.deleteProperty(c,r),u.indexOf(r)!==-1&&u.splice(u.indexOf(r),1),s(c),Ne(a,{chattings:c}),Ne(a,{conversation:u})};return d.jsx("div",{className:"flex h-[60px] rounded items-center justify-center w-1/6 bg-profile-red text-white",onClick:()=>{t?o({conversation:t}):(i(Qo("false")),localStorage.setItem("piazza","false"))},children:d.jsx(ea,{})})},Ei=({userObj:e,conversation:t,clock:n,message:s,longPressChat:i,longPressChatsList:o,changeLongPressChat:r,changeLongPressChatsList:a,onLongPress:l,changeOnLongPress:c,chattings:u,changeChattings:f})=>{const[h,m]=p.useState(!1),v=p.useRef(),x=t==="piazza";let g,y,w;t!=="piazza"?e.uid===u[t].userOne?(g=u[t].userTwoDisplayName,y=u[t].userTwo,w=u[t].userTwoProfileUrl):(g=u[t].userOneDisplayName,y=u[t].userOne,w=u[t].userOneProfileUrl):(g="",y="",w=""),ta(v,()=>{i&&!l&&(m(!0),c(l+1),a(t||"piazza"))}),p.useEffect(()=>{!i&&!l&&(m(!1),c(0))},[i,l]);const{colorTwo:S}=na(),b=t||"piazza";return d.jsx(sa,{onClickAway:()=>{i===b&&(r(null),c(0),a([]))},children:d.jsxs("div",{className:`${h&&"flex"}`,children:[d.jsx("div",{ref:v,className:`${h&&"longPress flex w-[calc(100%-48px)]"}`,onMouseDownCapture:()=>{const T=t||"piazza";r(T),o.length?a([...o,T]):a([T])},onTouchStartCapture:()=>{const T=t||"piazza";r(T),o.length?a([...o,T]):a([T])},children:d.jsx(ia,{sx:{flexGrow:1,overflow:"hidden",bgcolor:S,":hover":{bgcolor:S}},children:d.jsx(d.Fragment,{children:l?d.jsx("div",{onClick:()=>{l&&(m(!h),c(h?l-1:l+1))},children:d.jsx(Vi,{chattingUid:y,userObj:e,profileUrl:w,displayName:g,multiple:x,clock:n,message:s})}):d.jsx(ra,{to:t!=="piazza"?`/piazza?id=${t}`:"/piazza",state:{conversation:t,displayName:g,userUid:e.uid,chattingUid:y,multiple:x},children:d.jsx(Vi,{chattingUid:y,userObj:e,profileUrl:w,displayName:g,multiple:x,clock:n,message:s})})})})}),h&&d.jsx(Lh,{userObj:e,conversation:t,changeLongPressChat:r,changeChattings:f})]})},b)},Nh=()=>{const[e,t]=p.useState(null),n=i=>t(i),s=U(i=>i.piazzaSwitch.value);return p.useEffect(()=>{s==="true"&&(async()=>{const o=Ii(H,"chats_group"),r=Bi(o,aa("messageClockNumber","desc"),oa(1));(await Oi(r)).forEach(l=>{e||t({username:l.data().userName,messageClock:l.data().messageClock,messageClockNumber:l.data().messageClockNumber,message:l.data().message,piazzaChecked:l.data().piazzaChecked||[]})})})()},[]),{piazzaMessage:e,changePiazzaMessage:n}},Fh=({userObj:e,chattings:t,changeChattings:n,sorted:s})=>{const[i,o]=p.useState(null),[r,a]=p.useState([]),l=g=>o(g),c=g=>a(g),[u,f]=p.useState(0),h=g=>f(g);p.useEffect(()=>{u||o(null)},[u]),p.useEffect(()=>{i||f(0)},[i]),ge(g=>g.piazzaSwitch.value)==="true"&&s.indexOf("piazza")===-1&&s.splice(0,0,"piazza");const{piazzaMessage:v,changePiazzaMessage:x}=Nh();return p.useEffect(()=>{if(!fe)return;function g(y){const{msg:w,userUid:S,id:b,target:T,messageClock:D,conversation:E}=y;x({message:w,messageClock:D,username:b,piazzaChecked:[b]})}return fe.on("sMessagePiazza",g),()=>{fe.off("sMessagePiazza",g)}},[]),p.useEffect(()=>{if(!fe)return;function g(y){var Y;const{msg:w,userUid:S,id:b,target:T,messageClock:D,messageClockNumber:E,conversation:P,conversationUid:A,conversationName:k,profileUrl:z}=y;let I,V,X,te,oe,L;const W=((Y=t[P])==null?void 0:Y.messageCount)+1||1;S<A?(I=S,V=A,X=b,te=k,oe=z):(I=A,V=S,X=k,te=b,L=z);const q={userUid:S,userName:b,userOne:I,userOneDisplayName:X,userTwo:V,userTwoDisplayName:te,message:w,messageClock:D,messageClockNumber:E,userOneProfileUrl:oe,userTwoProfileUrl:L,messageCount:W},ae={...t,[P]:q};n(ae)}s.map(y=>(fe.on(`sMessage${y}`,g),()=>{fe.off(`sMessage${y}`,g)}))}),p.useEffect(()=>{if(!fe)return;function g(y){var Y;const{msg:w,userUid:S,id:b,target:T,messageClock:D,messageClockNumber:E,conversation:P,conversationUid:A,conversationName:k,profileUrl:z}=y;let I,V,X,te,oe,L;const W=((Y=t[P])==null?void 0:Y.messageCount)||1;S<A?(I=S,V=A,X=b,te=k,oe=z):(I=A,V=S,X=k,te=b,L=z);const q={userUid:S,userName:b,userOne:I,userOneDisplayName:X,userTwo:V,userTwoDisplayName:te,message:w,messageClock:D,messageClockNumber:E,userOneProfileUrl:oe,userTwoProfileUrl:L,messageCount:W},ae={...t,[P]:q};n(ae)}return fe.on("sNewMessage",g),()=>{fe.off("sNewMessage",g)}}),d.jsx(d.Fragment,{children:s.map((g,y)=>{if(g==="piazza"){const w=new Date(v==null?void 0:v.messageClock);return d.jsx(d.Fragment,{children:d.jsx(Ei,{userObj:e,profileUrl:"",conversation:g,displayName:"",chattingUid:"",multiple:!0,clock:w,message:v,longPressChat:i,longPressChatsList:r,changeLongPressChat:l,changeLongPressChatsList:c,onLongPress:u,changeOnLongPress:h,sorted:s,chattings:t,changeChattings:n})})}else{const w=new Date(t[g].messageClock);if(t[g]){let S,b,T;return e.uid===t[g].userOne?(S=t[g].userTwoDisplayName,b=t[g].userTwo,T=t[g].userTwoProfileUrl):(S=t[g].userOneDisplayName,b=t[g].userOne,T=t[g].userOneProfileUrl),d.jsx(d.Fragment,{children:d.jsx(Ei,{userObj:e,profileUrl:T,conversation:g,displayName:S,chattingUid:b,multiple:!1,clock:w,message:t[g],longPressChat:i,longPressChatsList:r,changeLongPressChat:l,changeLongPressChatsList:c,onLongPress:u,changeOnLongPress:h,sorted:s,chattings:t,changeChattings:n})})}}})})},Bh={ko:"진행  메세지가 없습니다",en:"No messages"},Ih=({index:e})=>d.jsx("div",{className:"flex items-center flex-col",children:d.jsx("div",{className:"flex justify-center rounded w-1/2 p-5 bg-light-2 dark:bg-dark-2 shadow-md",children:Bh[e]})}),Oh=({userObj:e})=>{const[t,n]=p.useState({}),[s,i]=p.useState(!1),o=l=>n(l),r=l=>i(l),a=Object.keys(t).sort((l,c)=>t[c].messageClockNumber-t[l].messageClockNumber);return p.useEffect(()=>{(async()=>{var h;const c=J(H,`members/${e.uid}`),f=((h=(await Re(c)).data())==null?void 0:h.chattings)||{};n(f),f||i(!0)})()},[]),{chattings:t,changeChattings:o,sorted:a,chattingNone:s,changeChattingNone:r}},Uh=({userObj:e})=>{const t=U(l=>l.languages.value),n=t==="ko"||t==="en"?t:"ko",{chattings:s,changeChattings:i,sorted:o,chattingNone:r,changeChattingNone:a}=Oh({userObj:e});return d.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[r&&d.jsx(Ih,{index:n}),d.jsx(Fh,{userObj:e,chattings:s,changeChattings:i,sorted:o})]})},ki=({content:e})=>d.jsx(Fi,{className:"text-sm max-w-[1000px]",children:e});function zh({content:e,index:t}){return d.jsx("div",{className:`flex justify-center ${t&&"px-5"}`,children:t?d.jsx(ki,{content:e}):d.jsx("div",{className:"w-[1000px]",children:d.jsx(ki,{content:e})})})}function _h({value:e}){return d.jsx("div",{className:"flex justify-center sticky top-16 z-30 px-5",children:d.jsx("div",{className:"w-[1000px]",children:d.jsxs("button",{onClick:()=>{var t;(t=document.getElementById(e.id))==null||t.click()},className:"rounded shadow-md px-3 flex sticky top-16 z-30 w-full items-center justify-between bg-light-2/50 dark:bg-dark-2/50",children:[d.jsx("div",{children:e.item}),d.jsx(Ni,{id:e.id,onClick:e.onClick})]})})})}const Wh={ko:"카드",en:"Cards"},$h={ko:"메세지",en:"Messages"};function Kh({userObj:e}){const t=U(a=>a.languages.value),n=t==="ko"||t==="en"?t:"ko",s=ge(a=>a.cardAccordion.value),i=ge(a=>a.messageAccordion.value),o=He(),r=[{value:"item-1",id:"cardAccordion",item:d.jsxs("div",{className:"flex gap-5",children:[d.jsx(la,{}),d.jsx(d.Fragment,{children:Wh[n]})]}),onClick:()=>{o(s?ca():ua())},content:d.jsx(Vh,{userObj:e})},{value:"item-2",id:"messageAccordion",item:d.jsxs("div",{className:"flex gap-5",children:[d.jsx(da,{}),d.jsx(d.Fragment,{children:$h[n]})]}),onClick:()=>{o(i?ha():fa())},content:d.jsx(Uh,{userObj:e})}];return d.jsx(Ri,{value:[s,i],type:"multiple",children:r.map((a,l)=>d.jsxs(Li,{value:a.value,children:[d.jsx(_h,{value:a}),d.jsx(zh,{content:a.content,index:l})]},a.id))})}const Gh=()=>{p.useEffect(()=>{function e(n){n.preventDefault()}const t=document.getElementById("sample");return t==null||t.addEventListener("contextmenu",e),()=>{t==null||t.removeEventListener("contextmenu",e)}},[])},Hh=e=>{p.useEffect(()=>{(async()=>{try{const n=await ma(pa,{vapidKey:"BOEjdiKjNUn1CuyitURLOGBbbE7GaPIM5MCLsVEIwgqXcmiXzp5-BrGzPRuBmlpVEk2SizRb6PXuXy77oJ4kLxA"});if(n){console.log("Token generated:",n);const s=J(H,`members/${e.uid}`);Ne(s,{messagingToken:n})}else console.log("No registration token available.")}catch(n){console.error("Error getting token:",n)}})()},[])},Xh=e=>{const t=He();p.useEffect(()=>{(async()=>{var c,u,f,h;const s=J(H,`members/${e==null?void 0:e.uid}`),i=await Re(s),o=((c=i.data())==null?void 0:c.profileColor)||"#2196f3",r=((u=i.data())==null?void 0:u.profileImageUrl)||"null",a=((f=i.data())==null?void 0:f.profileImage)||!1,l=((h=i.data())==null?void 0:h.defaultProfile)||"null";t(ga(o)),t(a?us(r):us(l))})()},[e])},qh={ko:"내 상태",en:"My Status"};function Yh({userObj:e}){const t=U(s=>s.languages.value),n=t==="ko"||t==="en"?t:"ko";return Xh(e),Hh(e),Gh(),window.addEventListener("online",function(){console.log("You are online!")}),window.addEventListener("offline",function(){console.log("Oh no, you lost your network connection.")}),d.jsxs("div",{id:"sample",className:"flex justify-center flex-col pb-5",children:[d.jsx(tn,{title:qh[n]}),d.jsx(Kh,{userObj:e})]})}function tf({userObj:e}){const t=U(i=>i.bottomNavigation.value),n=U(i=>i.userCertificated.value),s=He();return p.useEffect(()=>{t===5&&s(ya(1))},[e]),d.jsx(d.Fragment,{children:e&&n?d.jsxs(d.Fragment,{children:[t===0&&d.jsxs(Ut,{children:[d.jsx(ds,{userObj:e,borrow:!0}),d.jsx(ds,{userObj:e,borrow:!1})]}),t===1&&d.jsx(Yh,{userObj:e}),t===2&&d.jsx(va,{userObj:e,borrow:!0})]}):d.jsxs(d.Fragment,{children:[t===0&&d.jsxs(Ut,{children:[d.jsx(hs,{borrow:!0}),d.jsx(hs,{borrow:!1})]}),t===1&&d.jsx(xh,{userObj:e}),t===2&&d.jsxs(Ut,{children:[d.jsx(fs,{borrow:!0}),d.jsx(fs,{borrow:!1})]})]})})}export{tf as default};
