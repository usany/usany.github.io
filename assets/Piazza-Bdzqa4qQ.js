import{b1 as Me,u as se,c as W,J as me,aU as fe,r as x,j as a,b2 as Re,b3 as xe,P as de,Q as we,b4 as ve,aW as $e,m as V,h as I,A as B,V as L,aZ as ye,g as X,w as Q,b5 as Fe,I as ge,R as ke,B as Ce,b0 as Ve,b6 as Ne,q as ne,S as le,U as ce,i as re,aX as ze,ag as Be,b7 as Ae,K as Ie,x as He,b8 as Le,a8 as Ye}from"./index-DuViDBzl.js";/**
 * @license lucide-react v0.381.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=Me("AlarmClockCheck",[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}],["path",{d:"m9 13 2 2 4-4",key:"6343dt"}]]);/**
 * @license lucide-react v0.381.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=Me("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),De={ko:"메세지를 작성해 주세요",en:"Input message"},Ue={ko:"전송",en:"send"};function Ke({chattingUser:s,userObj:g,multiple:y,messages:e,handleMessages:n,messagesList:P,handleMessagesList:p}){const U=se(f=>f.profileColor.value),H=se(f=>f.piazzaForm.value),l=W(f=>f.profile.value),K=me(),{state:S}=fe(),v=S==null?void 0:S.conversation,M=W(f=>f.languages.value),E=M==="ko"||M==="en"?M:"ko",[w,T]=x.useState(!1),b=async f=>{var z;f.preventDefault();const N=e,t=g.uid,r=g.displayName,i=Date.now(),c=new Date().toString(),o=l==null?void 0:l.profileImageUrl,d=l==null?void 0:l.defaultProfile,m=l==null?void 0:l.profileImage;let u,h,k;s&&(u=V(I,`members/${s.uid}`),h=await B(u),k=(z=h.data())==null?void 0:z.messagingToken);const C=l.profileImage?l.profileImageUrl:l.defaultProfile;console.log(l);const D={msg:N,userUid:t,id:r,messageClockNumber:i,messageClock:c,conversation:v,conversationUid:s==null?void 0:s.uid,conversationName:s==null?void 0:s.displayName,profileImage:m,defaultProfile:d,profileImageUrl:o,profileUrl:C,sendingToken:k};y?D&&N&&(L.emit("piazzaMessage",D),J()):N&&(P.length!==0?(L.emit("message",D),console.log("message")):(L.emit("messageNew",D),console.log("messageNew")),ie(),O()),n("")},j=f=>{n(f.target.value)},J=async()=>{try{const f=e,N=g.uid,t=g.displayName,r=new Date().toString(),i=Date.now(),c=l==null?void 0:l.profileImageUrl,o=l==null?void 0:l.defaultProfile,d=l==null?void 0:l.profileImage;f&&(await ye(X(I,"chats_group"),{userUid:N,userName:t,message:f,messageClock:r,messageClockNumber:i,profileImageUrl:c,defaultProfile:o,profileColor:U,piazzaChecked:[g.uid],profileImage:d}),p(m=>[...m,{msg:f,type:"me",userUid:g.uid,id:g.displayName,messageClock:r,conversation:null,profileColor:U,messageClockNumber:i,defaultProfile:o,profileImageUrl:c,profileImage:d||!1}]))}catch(f){console.log(f)}},ie=async()=>{var N,t,r;const f=e;try{const i=g.uid,c=g.displayName,o=Date.now(),d=new Date().toString(),m=l.profileImage,u=s.profileImage,h=l.profileImageUrl,k=s.profileImageUrl,C=l.defaultProfile,D=s.defaultProfile;let z,R,Y,_,$,F,A,q,Z,ae;if(g.uid<s.uid?(z=g.uid,R=s.uid,Y=g.displayName,_=s.displayName,$=h,F=k,A=C,q=D,Z=l.profileImage,ae=s.profileImage):(z=s.uid,R=g.uid,Y=s.displayName,_=g.displayName,$=k,F=h,A=D,q=C,Z=s.profileImage,ae=l.profileImage),!$){const G=V(I,`members/${z}`);$=(N=(await B(G)).data())==null?void 0:N.profileImageUrl}if(!F){const G=V(I,`members/${R}`);F=(t=(await B(G)).data())==null?void 0:t.profileImageUrl}if(f){const G={userUid:i,userName:c,message:f,messageClock:d,messageClockNumber:o,userOne:z,userTwo:R,userOneDisplayName:Y,userTwoDisplayName:_,userOneProfileUrl:$,userTwoProfileUrl:F,userOneDefaultProfile:A,userTwoDefaultProfile:q,userOneProfileImage:Z,userTwoProfileImage:ae};await ye(X(I,`chats_${v}`),G);const te=V(I,`members/${i}`),pe=(await B(te)).data().chattings||{},he=V(I,`members/${s.uid}`),oe=(await B(he)).data().chattings||{},Ee=((r=oe[v])==null?void 0:r.messageCount)||0;pe[v]=G,oe[v]={...G,messageCount:Ee+1},await Q(te,{chattings:pe}),await Q(he,{chattings:oe}),p(Te=>[...Te,{msg:f,type:"me",userUid:g.uid,id:g.displayName,messageClock:d,conversation:v,userName:c,messageClockNumber:o,userOne:z,userTwo:R,userOneDisplayName:Y,userTwoDisplayName:_,userOneProfileUrl:$,userTwoProfileUrl:F,userOneDefaultProfile:A,userTwoDefaultProfile:q,userOneProfileImage:Z,userTwoProfileImage:ae}])}}catch(i){console.log(i)}},O=async()=>{try{const f=g.uid,N=s.uid,t=V(I,`members/${f}`),i=(await B(t)).data().conversation||[],c=V(I,`members/${N}`),d=(await B(c)).data().conversation||[];i.indexOf(v)===-1&&(await Q(t,{conversation:[...i,v]}),K(Fe())),d.indexOf(v)===-1&&await Q(c,{conversation:[...d,v]})}catch(f){console.log(f)}};x.useEffect(()=>{if(w){document.getElementById("mute"),document.getElementById("stream");const f=document.getElementById("videoInput");document.getElementById("myFace");let N;async function t(){try{const i={video:!0,audio:!0};N=await navigator.mediaDevices.getUserMedia(i),N.getVideoTracks().forEach(c=>c.enabled=!c.enabled),N.getAudioTracks().forEach(c=>c.enabled=!c.enabled),r()}catch(i){console.log(i)}}t();async function r(){try{const c=(await navigator.mediaDevices.enumerateDevices()).filter(o=>o.kind==="videoinput");c.forEach(o=>{const d=document.createElement("option");d.value=o.deviceId,d.innerText=o.label,f==null||f.appendChild(d)}),console.log(c)}catch(i){console.log(i)}}}});const ee=()=>{T(!0)};return console.log(v),a.jsx(a.Fragment,{children:H?a.jsxs("form",{className:"fixed w-screen bottom-0 flex gap-px",onSubmit:b,children:[a.jsx("button",{onClick:()=>ee(),className:"px-1 rounded bg-light-2 dark:bg-dark-2",type:"submit",children:a.jsx(be,{})}),a.jsxs("select",{className:"w-10",children:[a.jsx("option",{children:"video"}),a.jsx("option",{children:"audio"})]}),a.jsxs(Re,{value:item,onChange:changeItem,children:[a.jsx(xe,{value:"우산",children:M==="ko"?"우산":"Usan"}),a.jsx(xe,{value:"양산",children:M==="ko"?"양산":"Yangsan"})]}),a.jsx("input",{className:"w-full p-3 rounded bg-light-1 dark:bg-dark-1",placeholder:De[E],onChange:j,value:e,autoFocus:!0}),a.jsx("button",{className:"w-1/6 rounded bg-light-2 dark:bg-dark-2",type:"submit",children:Ue[E]})]}):a.jsxs("form",{className:"fixed w-screen bottom-[60px] flex gap-px",onSubmit:b,children:[v&&v!=="piazza"&&a.jsx(de,{trigger:a.jsx("button",{className:"px-1 h-full rounded bg-light-2 dark:bg-dark-2",type:"submit",children:a.jsx(be,{})}),title:a.jsx("div",{children:"전화 선택"}),content:a.jsxs("div",{className:"flex justify-center gap-5 p-5",children:[a.jsx(we,{className:"colorOne",sx:{height:"100%"},children:a.jsx(ve,{children:a.jsxs("div",{className:"flex flex-col items-center gap-5",children:[a.jsx($e,{}),a.jsx("div",{children:"화상 전화"})]})})}),a.jsx(we,{className:"colorOne",sx:{height:"100%"},children:a.jsx(ve,{children:a.jsxs("div",{className:"flex flex-col items-center gap-5",children:[a.jsx(_e,{}),a.jsx("div",{children:"음성 전화"})]})})})]})}),a.jsx("input",{className:"w-full p-3 rounded bg-light-1 dark:bg-dark-1",placeholder:De[E],onChange:j,value:e,autoFocus:!0}),a.jsx("button",{className:"w-1/6 rounded bg-light-2 dark:bg-dark-2",type:"submit",children:Ue[E]})]})})}const Se=({initiateContinuing:s,multiple:g,handleMultiple:y,user:e,userObj:n,handleMessagesList:P,displayedName:p})=>{const[U,H]=x.useState(null),l=W(K=>K.languages.value);return x.useEffect(()=>{e&&((e==null?void 0:e.uid)<n.uid?H((e==null?void 0:e.uid[0])+(e==null?void 0:e.uid[1])+(e==null?void 0:e.uid[2])+(e==null?void 0:e.uid[3])+(e==null?void 0:e.uid[4])+(e==null?void 0:e.uid[5])+n.uid[0]+n.uid[1]+n.uid[2]+n.uid[3]+n.uid[4]+n.uid[5]):H(n.uid[0]+n.uid[1]+n.uid[2]+n.uid[3]+n.uid[4]+n.uid[5]+(e==null?void 0:e.uid[0])+(e==null?void 0:e.uid[1])+(e==null?void 0:e.uid[2])+(e==null?void 0:e.uid[3])+(e==null?void 0:e.uid[4])+(e==null?void 0:e.uid[5])))},[e]),a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col items-center pt-5",children:[a.jsx(ge,{element:e,uid:n.uid,profile:!0,profileColor:"",profileUrl:e==null?void 0:e.profileImageUrl,fallback:"",piazza:null}),a.jsx("div",{children:e==null?void 0:e.displayName}),(e==null?void 0:e.displayName)!==p&&a.jsx("div",{children:l==="ko"?a.jsxs("div",{children:["(",p,"에서 개명)"]}):a.jsxs("div",{children:["(Changed name from ",p,")"]})})]}),a.jsxs("div",{className:"flex justify-center p-5",children:[a.jsx(ke,{to:`${location.pathname}?id=${U}`,state:{element:e},children:a.jsx(Ce,{variant:"outlined",onClick:()=>{},children:l==="ko"?"프로필 확인":"Check Profile"})}),g&&n.uid!==(e==null?void 0:e.uid)&&a.jsx(ke,{to:`${location.pathname}?id=${U}`,state:{conversation:U,displayName:e==null?void 0:e.displayName,userUid:n.uid,chattingUid:e==null?void 0:e.uid,multiple:!1,profileUrl:e==null?void 0:e.profileImageUrl},children:a.jsx(Ve,{children:a.jsx(Ce,{variant:"outlined",onClick:()=>{P([]),y(!1),s()},children:l==="ko"?"개인 대화":"Private messaging"})})})]})]})};function je({userObj:s,multiple:g,handleMultiple:y,messagesList:e,handleMessagesList:n}){const P=x.useRef(null),p=x.useRef(null),[U,H]=x.useState(null),[l,K]=x.useState(""),[S,v]=x.useState(!1),[M,E]=x.useState(null),[w,T]=x.useState(0),{state:b}=fe(),j=(b==null?void 0:b.conversation)||"piazza",J=W(t=>t.languages.value),ie=async({userUid:t,displayName:r})=>{const i=V(I,`members/${t}`),o=(await B(i)).data();H(o),K(r)},O=({userUid:t,displayName:r})=>{var i;(i=document.getElementById("drawer"))==null||i.click(),ie({userUid:t,displayName:r})},ee=20;x.useEffect(()=>{if(!L)return;function t(r){const{msg:i,userUid:c,id:o,target:d,messageClock:m,messageClockNumber:u,profileImageUrl:h,defaultProfile:k,profileImage:C,conversation:D}=r;n(z=>[...z,{msg:i,type:d?"private":"other",userUid:c,id:o,messageClock:m,messageClockNumber:u,conversation:null,profileImageUrl:h,defaultProfile:k,profileImage:C}])}return L.on("sMessagePiazza",t),()=>{L.off("sMessagePiazza",t)}},[]),x.useEffect(()=>{if(!L)return;function t(r){const{msg:i,userUid:c,id:o,target:d,messageClock:m,messageClockNumber:u,conversation:h,profileImageUrl:k,defaultProfile:C,profileImage:D,piazzaData:z}=r;n(R=>[...R,{msg:i,type:d?"private":"other",userUid:c,id:o,messageClock:m,messageClockNumber:u,conversation:null,profileImageUrl:k,defaultProfile:C,profileImage:D,...z}])}return L.on(`sMessage${j}`,t),()=>{L.off(`sMessage${j}`,t)}},[]),x.useEffect(()=>{document.documentElement.scrollTo({top:0,left:0,behavior:"instant"})},[]),x.useEffect(()=>{f(),(async()=>{if(g){const r=X(I,"chats_group"),i=ne(r,ce("messageClockNumber","desc"),le(1));(await re(i)).forEach(async o=>{const d=V(I,`chats_group/${o.id}`),u=(await B(d)).data(),h=u.piazzaChecked||[];h.indexOf(s.uid)===-1&&(h.splice(-1,s.uid,0),h.push(s.uid),await Q(d,{...u,piazzaChecked:h}))})}else{const r=V(I,`members/${s.uid}`),c=(await B(r)).data().chattings;c[j]&&(c[j].messageCount=0),await Q(r,{chattings:c})}})()},[e]);const f=()=>{var t;(t=P.current)==null||t.scrollIntoView()};x.useEffect(()=>{const t=async()=>{const i=[],c=X(I,"chats_group"),o=ne(c,ce("messageClockNumber","desc"),le(ee),ze(M||"")),d=await re(o);d.docs.length||T(d.docs.length),d.forEach(m=>{var $,F,A;i.length===d.docs.length-1&&(E(m),T(d.docs.length-1));const u=m.data().message,h=m.data().userUid,k=m.data().userName,C=m.data().messageClock,D=m.data().messageClockNumber,z=($=m.data())==null?void 0:$.profileImageUrl,R=(F=m.data())==null?void 0:F.defaultProfile,Y=(A=m.data())==null?void 0:A.profileImage,_=m.data();i.push({msg:u,userUid:h,id:k,messageClockNumber:D,messageClock:C,conversation:null,profileImageUrl:z,defaultProfile:R,profileImage:Y||!1,..._})}),i.reverse(),n([...i,...e]),v(!1)},r=async i=>{const c=X(I,`chats_${i}`),o=ne(c,ce("messageClockNumber","desc"),le(ee),ze(M||"")),d=await re(o),m=[];d.docs.length||T(d.docs.length),d.forEach((u,h)=>{var A,q,Z;m.length===d.docs.length-1&&(E(u),T(d.docs.length-1));const k=u.data().message,C=u.data().userUid,D=u.data().userName,z=u.data().messageClock,R=u.data().messageClockNumber||0,Y=(A=u.data())==null?void 0:A.profileImageUrl,_=(q=u.data())==null?void 0:q.defaultProfile,$=(Z=u.data())==null?void 0:Z.profileImage,F=u.data();m.push({msg:k,userUid:C,id:D,messageClockNumber:R,messageClock:z,conversation:null,profileImageUrl:Y,defaultProfile:_,profileImage:$||!1,...F})}),m.reverse(),n([...m,...e]),v(!1)};j==="piazza"?(S||!e.length)&&t():(S||!e.length)&&r(j)},[S,j]);const N=()=>{p.current.scrollTop!==0||S||(console.log("scroll"),v(!0))};return x.useEffect(()=>{var t;return(t=p.current)==null||t.addEventListener("scroll",N),()=>{var r;return(r=p.current)==null?void 0:r.removeEventListener("scroll",N)}},[S]),a.jsx(a.Fragment,{children:a.jsx("div",{ref:p,className:"p-1 border-t rounded-xl overflow-auto",children:a.jsxs("ul",{children:[S&&a.jsx("div",{className:"flex justify-center bg-light-2 dark:bg-dark-2 rounded",children:"로딩"}),e.map((t,r)=>{let i;g?i=t:(console.log(t.userUid===s.uid),t.userUid===t.userOne?i={userUid:t.userOne,id:t.userOneDisplayName,profileImage:t.userOneProfileImage||t.profileImage,defaultProfile:t.userOneDefaultProfile||t.defaultProfile,profileImageUrl:t.userOneProfileUrl||t.profileImageUrl}:i={userUid:t.userTwo,id:t.userTwoDisplayName,profileImage:t.userTwoProfileImage||t.profileImage,defaultProfile:t.userTwoDefaultProfile||t.defaultProfile,profileImageUrl:t.userTwoProfileUrl||t.profileImageUrl});let c;const o=new Date(t.messageClock);t.userUid===s.uid?c="text-right":c="text-left";let d,m;r>0&&(d=e[r-1].userUid),r<e.length-1&&e[r+1].userUid===s.uid&&(m=new Date(e[r+1].messageClock),o.getFullYear()===m.getFullYear()&&o.getMonth()===m.getMonth()&&o.getDate()===m.getDate()&&o.getHours()===m.getHours()&&(o.getMinutes(),m.getMinutes()));let u,h=o.getHours(),k=(o.getMonth()+1).toString(),C=o.getDate().toString();return h>=13?(u="오후",h!==12&&(h=h-12)):(u="오전",h===0&&(h=h+12)),o.getMonth()+1<10&&(k="0"+k),C.length===1&&(C="0"+C),a.jsxs("li",{ref:r===w?P:null,className:c,children:[d!==t.userUid&&a.jsx("div",{children:a.jsx("div",{className:`flex justify-${t.userUid!==s.uid?"start":"end"}`,children:c==="text-left"?a.jsxs("div",{className:"flex gap-3",children:[a.jsx(de,{trigger:a.jsx(ge,{element:i,piazza:()=>O({userUid:i.userUid,displayName:i.id}),profile:!1}),title:a.jsx(Ne,{}),content:a.jsx(Se,{initiateContinuing:()=>E(null),multiple:g,handleMultiple:y,user:U,userObj:s,handleMessagesList:n,displayedName:l})}),a.jsx("div",{children:t.id})]}):a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{children:t.id}),a.jsx(de,{trigger:a.jsx(ge,{element:i,piazza:()=>O({userUid:i.userUid,displayName:i.id}),profile:!1}),title:a.jsx(Ne,{}),content:a.jsx(Se,{initiateContinuing:()=>E(null),multiple:g,handleMultiple:y,user:U,userObj:s,handleMessagesList:n,displayedName:l})})]})})}),t.userUid!==s.uid?a.jsxs("div",{className:"flex gap-3 justify-start",children:[a.jsx("div",{className:"other rounded-tr-lg rounded-bl-lg rounded-br-lg p-1 bg-light-1 dark:bg-dark-1",children:t.msg}),a.jsxs("div",{children:[o.getFullYear(),"-",k,"-",C," ",J==="ko"&&u," ",h,":",o.getMinutes()<10&&"0",o.getMinutes(),J==="en"&&(u==="오전"?"am":"pm")]})]}):a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsxs("div",{children:[o.getFullYear(),"-",k,"-",C," ",J==="ko"&&u," ",h,":",o.getMinutes()<10&&"0",o.getMinutes(),J==="en"&&(u==="오전"?"am":"pm")]}),a.jsx("div",{className:"me rounded-tl-lg rounded-bl-lg rounded-br-lg p-1 bg-light-1 dark:bg-dark-1",children:t.msg})]})]},r)}),a.jsx("li",{ref:P})]})})})}function qe({isKeyboardOpen:s,userObj:g,multiple:y,handleMultiple:e,messagesList:n,handleMessagesList:P}){return a.jsx(a.Fragment,{children:s?a.jsx("div",{className:"fixed bottom-[50px] w-screen h-full bg-light-3 dark:bg-dark-3 flex flex-col pt-[120px]",children:a.jsx(je,{userObj:g,multiple:y,handleMultiple:e,messagesList:n,handleMessagesList:P})}):a.jsx("div",{className:"fixed bottom-[110px] w-screen h-[60%] bg-light-3 dark:bg-dark-3 flex flex-col",children:a.jsx(je,{userObj:g,multiple:y,handleMultiple:e,messagesList:n,handleMessagesList:P})})})}const Ze=Be(Ae)(({theme:s})=>({padding:8,"& .MuiSwitch-track":{borderRadius:22/2,"&::before, &::after":{content:'""',position:"absolute",top:"50%",transform:"translateY(-50%)",width:16,height:16},"&::before":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="${encodeURIComponent(s.palette.getContrastText(s.palette.primary.main))}" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"/></svg>')`,left:12},"&::after":{backgroundImage:`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="${encodeURIComponent(s.palette.getContrastText(s.palette.primary.main))}" d="M19,13H5V11H19V13Z" /></svg>')`,right:12}},"& .MuiSwitch-thumb":{boxShadow:"none",width:16,height:16,margin:2}}));function Ge(){const s=W(n=>n.languages.value),g=se(n=>n.piazzaSwitch.value),y=me(),e=()=>{g==="true"?(window.localStorage.setItem("piazza","false"),y(Ie("false"))):(window.localStorage.setItem("piazza","true"),y(Ie("true")))};return a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:"text-sm",children:s==="ko"?"단체 대화 알림 받기":"Receive Group Messaging notice"}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Ze,{onClick:()=>e(),inputProps:{"aria-label":"ant design"},checked:g==="true"})})]})}const Pe={ko:["단체 대화","개인 대화"],en:["Group Messaging","Messaging"]},Je=({multiple:s,displayName:g})=>{const y=W(n=>n.languages.value),e=y==="ko"||y==="en"?y:"ko";return a.jsxs("div",{className:"flex w-screen justify-between",children:[a.jsx(He,{icon:a.jsx(Le,{}),title:s?Pe[e][0]:`${Pe[e][1]} ${g}`}),s&&a.jsx("div",{className:"flex w-1/2 justify-end px-5 pt-5",children:a.jsx(Ge,{})})]})};function Xe({userObj:s}){const[g,y]=x.useState(""),[e,n]=x.useState([]),P=me(),{state:p}=fe(),[U,H]=x.useState(!0),[l,K]=x.useState(!1),[S,v]=x.useState(null);x.useEffect(()=>{const w=async()=>{if(p.chattingUid){const T=V(I,`members/${p.chattingUid}`),b=await B(T);v(b.data())}};p.multiple||w()},[p]);const M=se(w=>w.piazzaForm.value);x.useEffect(()=>{var T;const w=()=>{var j;const b=window.screen.height-300>(((j=window.visualViewport)==null?void 0:j.height)||window.screen.height);l!==b&&K(b)};return window.addEventListener("resize",w),typeof visualViewport<"u"&&((T=window.visualViewport)==null||T.addEventListener("resize",w)),visualViewport==null||visualViewport.addEventListener("resize",w),typeof visualViewport<"u"&&(visualViewport==null||visualViewport.addEventListener("resize",w)),()=>{var b;typeof visualViewport<"u"&&((b=window.visualViewport)==null||b.removeEventListener("resize",w))}},[l]),x.useEffect(()=>{(p==null?void 0:p.multiple)!==void 0&&H(p==null?void 0:p.multiple)},[]),x.useEffect(()=>{P(Ye(5))});const E=p==null?void 0:p.displayName;return console.log(p),console.log(S),a.jsxs(a.Fragment,{children:[!l&&a.jsx(Je,{multiple:U,displayName:E}),a.jsx(qe,{isKeyboardOpen:M,userObj:s,multiple:U,handleMultiple:w=>H(w),messagesList:e,handleMessagesList:w=>n(w)}),a.jsx(Ke,{chattingUser:S,userObj:s,multiple:U,messages:g,handleMessages:w=>y(w),messagesList:e,handleMessagesList:w=>n(w)})]})}export{Xe as default};
