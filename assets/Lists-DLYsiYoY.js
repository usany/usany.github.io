import{c as u,aJ as w,j as s,K as y,L as C,b0 as L,r as R,aS as b,v as M,m as A,C as D,N as z,J as p,aG as B,aK as E,b1 as I}from"./index-BlxdMKTT.js";import{B as J}from"./ban-C9_67EAm.js";function K({multiple:e}){const a=u(c=>c.languages.value),n=w();return s.jsx("div",{className:"px-1 pt-3",children:s.jsxs("div",{className:"flex truncate w-full justify-around gap-1 p-3 rounded",children:[n?s.jsxs("div",{className:"flex items-center justify-center w-20",children:[e?a==="ko"?"유저":"User":a==="ko"?"내":"My"," ",a==="ko"?"랭킹":"Ranking"]}):s.jsxs("div",{className:"flex flex-col items-center justify-center w-20",children:[s.jsx("div",{children:e?a==="ko"?"유저":"User":a==="ko"?"내":"My"}),s.jsx("div",{children:a==="ko"?"랭킹":"Ranking"})]}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs(y,{className:"bg-light-2 dark:bg-dark-2 border border-dashed",children:[s.jsx(C,{src:""}),s.jsx(L,{className:"text-xl border-none",children:"?"})]})}),s.jsxs("div",{className:"flex flex-col justify-center overflow-hidden px-5 w-40",children:[s.jsxs("div",{children:[e?a==="ko"?"유저":"User":a==="ko"?"내":"My"," ",a==="ko"?"이름":"name"]}),s.jsx("div",{children:a==="ko"?"포인트":"Points"})]}),n?s.jsx("div",{className:"flex justify-center items-center w-[67px]",children:a==="ko"?"위치 확인":"Location Confirm"}):s.jsxs("div",{className:"flex flex-col justify-center items-center w-[67px]",children:[s.jsx("div",{children:a==="ko"?"위치 확인":"Location"}),a!=="ko"&&s.jsx("div",{children:"Confirm"})]})]})})}const k=({userObj:e,elements:a,userSearch:n,multiple:c,link:o,handleUser:x})=>{const[l,m]=R.useState(0),g=b();let j,d;return s.jsx("div",{className:"bg-light-3 dark:bg-dark-3",children:a.map((i,t)=>{var h;const N=Date.now()-i.locationConfirmed<5e7;if(i.points!==j&&(j=i.points,d=t),i.uid===(e==null?void 0:e.uid)){const r=M(A,`members/${e==null?void 0:e.uid}`),f=d?d+1:t+1;!l&&c&&(D(r,{ranking:f}),m(f))}let v=!0;if(n)for(let r=0;r<n.length;r++)(i==null?void 0:i.displayName[r])!==n[r]&&(v=!1);if(v){let r;(((h=i.displayName)==null?void 0:h.length)||0)>9?r=i.displayName.slice(0,9)+"......":r=i.displayName;const f=()=>o?g(o,{state:{element:i}}):x(i);return s.jsxs("div",{className:"px-1 pt-3 cursor-pointer",onClick:f,children:[s.jsxs("div",{className:`flex truncate justify-around gap-1 p-3 rounded ranking-${location.pathname==="/ranking"&&(c?t+1:i.rank)}`,children:[c?s.jsx("div",{className:"flex items-center justify-center px-5 w-20",children:d?d+1:t+1}):s.jsx("div",{className:"flex items-center justify-center w-20",children:l||i.ranking}),s.jsx("div",{className:"flex gap-1",children:s.jsx(z,{element:i,piazza:null,profile:!1})}),s.jsxs("div",{className:"flex flex-col justify-center overflow-hidden px-5 w-40",children:[s.jsx("div",{className:"overflow-hidden",children:r}),s.jsx("div",{className:"overflow-hidden",children:i.points})]}),s.jsx("div",{className:"flex justify-center items-center w-[67px]",children:N?s.jsx(p,{sx:{},color:"success",label:s.jsx(B,{})}):s.jsx(p,{label:s.jsx(J,{})})})]}),s.jsx(E,{})]},t)}})})};function $({userObj:e,elements:a,multiple:n,userSearch:c,ranking:o,handleUser:x}){let l;return location.pathname==="/profile"&&(l="/profile"),location.pathname==="/ranking"&&(l="/profile"),s.jsxs("div",{children:[o&&s.jsxs("div",{children:[s.jsx(K,{multiple:n}),s.jsx(k,{userObj:e,elements:a,userSearch:c,multiple:n,link:l,handleUser:x})]}),!o&&s.jsx(I,{children:s.jsx(k,{userObj:e,elements:a,userSearch:c,multiple:n,link:l,handleUser:x})})]})}export{$ as L};
