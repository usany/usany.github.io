import{d as w,aN as y,j as s,R as C,U as L,b6 as R,r as M,aX as A,x as D,p as E,E as U,W as $,Q as k,aK as b,aO as z,K as B,b7 as I}from"./index-CMSKOE3O.js";import{B as K}from"./ban-9RoEbA9a.js";function P({multiple:e}){const a=w(r=>r.languages.value),n=y();return s.jsx("div",{className:"px-1 pt-3",children:s.jsxs("div",{className:"flex truncate w-full justify-around gap-1 p-3 rounded",children:[n?s.jsxs("div",{className:"flex items-center justify-center w-20",children:[e?a==="ko"?"유저":"User":a==="ko"?"내":"My"," ",a==="ko"?"랭킹":"Ranking"]}):s.jsxs("div",{className:"flex flex-col items-center justify-center w-20",children:[s.jsx("div",{children:e?a==="ko"?"유저":"User":a==="ko"?"내":"My"}),s.jsx("div",{children:a==="ko"?"랭킹":"Ranking"})]}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs(C,{className:"bg-light-2 dark:bg-dark-2 border border-dashed",children:[s.jsx(L,{src:""}),s.jsx(R,{className:"text-xl border-none",children:"?"})]})}),s.jsxs("div",{className:"flex flex-col justify-center overflow-hidden px-5 w-40",children:[s.jsxs("div",{children:[e?a==="ko"?"유저":"User":a==="ko"?"내":"My"," ",a==="ko"?"이름":"name"]}),s.jsx("div",{children:a==="ko"?"포인트":"Points"})]}),n?s.jsx("div",{className:"flex justify-center items-center w-[67px]",children:a==="ko"?"위치 확인":"Location Confirm"}):s.jsxs("div",{className:"flex flex-col justify-center items-center w-[67px]",children:[s.jsx("div",{children:a==="ko"?"위치 확인":"Location"}),a!=="ko"&&s.jsx("div",{children:"Confirm"})]})]})})}const p=({userObj:e,elements:a,userSearch:n,multiple:r,link:l,handleUser:f})=>{const[d,g]=M.useState(0),N=A();let h,o;return s.jsx("div",{className:"bg-light-3 dark:bg-dark-3",children:a.map((i,t)=>{var v;const m=Date.now()-i.locationConfirmed<5e7;if(i.points!==h&&(h=i.points,o=t),i.uid===(e==null?void 0:e.uid)){const c=D(E,`members/${e==null?void 0:e.uid}`),x=o?o+1:t+1;!d&&r&&(U(c,{ranking:x}),g(x))}let j=!0;if(n)for(let c=0;c<n.length;c++)(i==null?void 0:i.displayName[c])!==n[c]&&(j=!1);if(j){let c;(((v=i.displayName)==null?void 0:v.length)||0)>9?c=i.displayName.slice(0,9)+"......":c=i.displayName;const x=i.uid===(e==null?void 0:e.uid)?l:l+`/?id=${i.uid}`,u=()=>x?N(x,{state:{element:i}}):f(i);return s.jsxs("div",{className:"px-1 pt-3 cursor-pointer",onClick:u,children:[s.jsxs("div",{className:`flex truncate justify-around gap-1 p-3 rounded ranking-${location.pathname==="/ranking"&&(r?t+1:i.rank)}`,children:[r?s.jsx("div",{className:"flex items-center justify-center px-5 w-20",children:o?o+1:t+1}):s.jsx("div",{className:"flex items-center justify-center w-20",children:d||i.ranking}),s.jsx("div",{className:"flex gap-1",children:s.jsx($,{element:i,piazza:null,profile:!1})}),s.jsxs("div",{className:"flex flex-col justify-center overflow-hidden px-5 w-40",children:[s.jsx("div",{className:"overflow-hidden",children:c}),s.jsx("div",{className:"overflow-hidden",children:i.points})]}),s.jsx("div",{className:"flex justify-center items-center w-[67px]",children:m?s.jsx(k,{sx:{},color:"success",label:s.jsx(b,{})}):s.jsx(k,{label:s.jsx(K,{})})})]}),s.jsx(z,{})]},t)}})})};function T({userObj:e,elements:a,multiple:n,userSearch:r,ranking:l,handleUser:f}){const d="/profile";return s.jsxs("div",{children:[l&&s.jsxs("div",{children:[s.jsx(P,{multiple:n}),a.length?s.jsx(p,{userObj:e,elements:a,userSearch:r,multiple:n,link:d,handleUser:f}):s.jsx(B,{className:"w-full h-[85px] bg-light-2 dark:bg-dark-2 rounded"})]}),!l&&s.jsx(I,{children:s.jsx(p,{userObj:e,elements:a,userSearch:r,multiple:n,link:d,handleUser:f})})]})}export{T as L};
